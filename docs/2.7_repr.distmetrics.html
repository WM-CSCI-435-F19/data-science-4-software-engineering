---

title: Distance and Similarity Metrics

keywords: fastai
sidebar: home_sidebar

summary: "This module is dedicated to implement and test distance and similarity metrics:"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: nbs/2.7_repr.distmetrics.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
    
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">gensim.models</span> <span class="k">import</span> <span class="n">WordEmbeddingSimilarityIndex</span>
<span class="kn">from</span> <span class="nn">gensim.similarities</span> <span class="k">import</span> <span class="n">SparseTermSimilarityMatrix</span>
<span class="kn">from</span> <span class="nn">gensim.models</span> <span class="k">import</span> <span class="n">KeyedVectors</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">gensim.downloader</span> <span class="k">as</span> <span class="nn">api</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>2020-06-09 20:42:38,060 : WARNING : unable to import &#39;smart_open.gcs&#39;, disabling that module
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Soft-Cosine-Measure-basics">Soft Cosine Measure basics<a class="anchor-link" href="#Soft-Cosine-Measure-basics">&#182;</a></h2><p>Soft Cosine Measure (SCM) is a method that allows us to assess the similarity between two documents in a meaningful way, even when they have no words in common. It uses a measure of similarity between words, which can be derived [2] using word2vec [4] vector embeddings of words. It has been shown to outperform many of the state-of-the-art methods in the semantic text similarity task in the context of community question answering [2].</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Initialize logging.</span>
<span class="kn">import</span> <span class="nn">logging</span>

<span class="n">logging</span><span class="o">.</span><span class="n">basicConfig</span><span class="p">(</span><span class="nb">format</span><span class="o">=</span><span class="s1">&#39;</span><span class="si">%(asctime)s</span><span class="s1"> : </span><span class="si">%(levelname)s</span><span class="s1"> : </span><span class="si">%(message)s</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="n">logging</span><span class="o">.</span><span class="n">INFO</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>To use SCM, we need some word embeddings first of all.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">default_params</span><span class="p">():</span>
    <span class="k">return</span> <span class="p">{</span>
        <span class="s2">&quot;system&quot;</span><span class="p">:</span> <span class="s1">&#39;libest&#39;</span><span class="p">,</span>
        <span class="s2">&quot;path_to_trained_model&quot;</span><span class="p">:</span> <span class="s1">&#39;test_data/models/word2vec_libest.model&#39;</span><span class="p">,</span>
        <span class="s2">&quot;source_path&quot;</span><span class="p">:</span> <span class="s1">&#39;/tf/main/benchmarking/traceability/testbeds/nltk/[libest-pre-req].csv&#39;</span><span class="p">,</span>
        <span class="s2">&quot;target_path&quot;</span><span class="p">:</span> <span class="s1">&#39;/tf/main/benchmarking/traceability/testbeds/nltk/[libest-pre-tc].csv&#39;</span><span class="p">,</span>
        <span class="s2">&quot;system_path&quot;</span><span class="p">:</span> <span class="s1">&#39;/tf/main/benchmarking/traceability/testbeds/nltk/[libest-pre-all].csv&#39;</span><span class="p">,</span>
        <span class="s2">&quot;saving_path&quot;</span><span class="p">:</span> <span class="s1">&#39;test_data/&#39;</span><span class="p">,</span>
        <span class="s2">&quot;names&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;Source&#39;</span><span class="p">,</span><span class="s1">&#39;Target&#39;</span><span class="p">,</span><span class="s1">&#39;Linked?&#39;</span><span class="p">]</span>
    <span class="p">}</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">params</span> <span class="o">=</span> <span class="n">default_params</span><span class="p">()</span>
<span class="n">params</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>{&#39;system&#39;: &#39;libest&#39;,
 &#39;path_to_trained_model&#39;: &#39;test_data/models/word2vec_libest.model&#39;,
 &#39;source_path&#39;: &#39;/tf/main/benchmarking/traceability/testbeds/nltk/[libest-pre-req].csv&#39;,
 &#39;target_path&#39;: &#39;/tf/main/benchmarking/traceability/testbeds/nltk/[libest-pre-tc].csv&#39;,
 &#39;system_path&#39;: &#39;/tf/main/benchmarking/traceability/testbeds/nltk/[libest-pre-all].csv&#39;,
 &#39;saving_path&#39;: &#39;test_data/&#39;,
 &#39;names&#39;: [&#39;Source&#39;, &#39;Target&#39;, &#39;Linked?&#39;]}</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df_source</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">params</span><span class="p">[</span><span class="s1">&#39;source_path&#39;</span><span class="p">],</span> <span class="n">names</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;ids&#39;</span><span class="p">,</span> <span class="s1">&#39;text&#39;</span><span class="p">],</span> <span class="n">header</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s1">&#39; &#39;</span><span class="p">)</span>
<span class="n">df_target</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">params</span><span class="p">[</span><span class="s1">&#39;target_path&#39;</span><span class="p">],</span> <span class="n">names</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;ids&#39;</span><span class="p">,</span> <span class="s1">&#39;text&#39;</span><span class="p">],</span> <span class="n">header</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s1">&#39; &#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df_corpus</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">params</span><span class="p">[</span><span class="s1">&#39;system_path&#39;</span><span class="p">],</span> <span class="n">names</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;ids&#39;</span><span class="p">,</span> <span class="s1">&#39;text&#39;</span><span class="p">],</span> <span class="n">header</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s1">&#39;,&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">documents</span> <span class="o">=</span> <span class="p">[</span><span class="n">doc</span><span class="o">.</span><span class="n">split</span><span class="p">()</span> <span class="k">for</span> <span class="n">doc</span> <span class="ow">in</span> <span class="n">df_corpus</span><span class="p">[</span><span class="s1">&#39;text&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">]</span> <span class="c1">#documents</span>
<span class="n">documents</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>[&#39;unit&#39;,
 &#39;test&#39;,
 &#39;user&#39;,
 &#39;stori&#39;,
 &#39;server&#39;,
 &#39;simpl&#39;,
 &#39;enrol&#39;,
 &#39;august&#39;,
 &#39;copyright&#39;,
 &#39;cisco&#39;,
 &#39;system&#39;,
 &#39;inc&#39;,
 &#39;right&#39;,
 &#39;reserv&#39;,
 &#39;includ&#39;,
 &#39;stdio&#39;,
 &#39;ifndef&#39;,
 &#39;win&#39;,
 &#39;includ&#39;,
 &#39;unistd&#39;,
 &#39;endif&#39;,
 &#39;includ&#39;,
 &#39;est&#39;,
 &#39;includ&#39;,
 &#39;curl&#39;,
 &#39;curl&#39;,
 &#39;includ&#39;,
 &#39;curl&#39;,
 &#39;util&#39;,
 &#39;includ&#39;,
 &#39;test&#39;,
 &#39;util&#39;,
 &#39;includ&#39;,
 &#39;server&#39;,
 &#39;includ&#39;,
 &#39;openssl&#39;,
 &#39;ssl&#39;,
 &#39;ifdef&#39;,
 &#39;cunit&#39;,
 &#39;includ&#39;,
 &#39;cunit&#39;,
 &#39;basic&#39;,
 &#39;includ&#39;,
 &#39;cunit&#39;,
 &#39;autom&#39;,
 &#39;endif&#39;,
 &#39;ifndef&#39;,
 &#39;win&#39;,
 &#39;static&#39;,
 &#39;char&#39;,
 &#39;test&#39;,
 &#39;outfil&#39;,
 &#39;filenam&#39;,
 &#39;max&#39;,
 &#39;test&#39;,
 &#39;hdr&#39;,
 &#39;defin&#39;,
 &#39;cacert&#39;,
 &#39;est&#39;,
 &#39;cacert&#39;,
 &#39;crt&#39;,
 &#39;defin&#39;,
 &#39;explicit_cert&#39;,
 &#39;us903&#39;,
 &#39;cert&#39;,
 &#39;pem&#39;,
 &#39;defin&#39;,
 &#39;us903_explicit_key&#39;,
 &#39;us903&#39;,
 &#39;key&#39;,
 &#39;pem&#39;,
 &#39;defin&#39;,
 &#39;us903_cacert&#39;,
 &#39;est&#39;,
 &#39;cacert&#39;,
 &#39;crt&#39;,
 &#39;defin&#39;,
 &#39;us903_trusted_cert&#39;,
 &#39;trustedcert&#39;,
 &#39;crt&#39;,
 &#39;defin&#39;,
 &#39;est&#39;,
 &#39;privat&#39;,
 &#39;estservercertandkey&#39;,
 &#39;pem&#39;,
 &#39;els&#39;,
 &#39;static&#39;,
 &#39;char&#39;,
 &#39;test5_outfil&#39;,
 &#39;filename_max&#39;,
 &#39;us903&#39;,
 &#39;test5&#39;,
 &#39;hdr&#39;,
 &#39;defin&#39;,
 &#39;us903_cacert&#39;,
 &#39;est&#39;,
 &#39;cacert&#39;,
 &#39;crt&#39;,
 &#39;defin&#39;,
 &#39;us903_explicit_cert&#39;,
 &#39;us903&#39;,
 &#39;cert&#39;,
 &#39;pem&#39;,
 &#39;defin&#39;,
 &#39;us903_explicit_key&#39;,
 &#39;us903&#39;,
 &#39;key&#39;,
 &#39;pem&#39;,
 &#39;defin&#39;,
 &#39;us903_cacert&#39;,
 &#39;est&#39;,
 &#39;cacert&#39;,
 &#39;crt&#39;,
 &#39;defin&#39;,
 &#39;us903_trusted_cert&#39;,
 &#39;trustedcert&#39;,
 &#39;crt&#39;,
 &#39;defin&#39;,
 &#39;est&#39;,
 &#39;privat&#39;,
 &#39;estservercertandkey&#39;,
 &#39;pem&#39;,
 &#39;endif&#39;,
 &#39;static&#39;,
 &#39;unsign&#39;,
 &#39;char&#39;,
 &#39;cacert&#39;,
 &#39;null&#39;,
 &#39;static&#39;,
 &#39;int&#39;,
 &#39;cacerts_len&#39;,
 &#39;defin&#39;,
 &#39;us903_retry_interv&#39;,
 &#39;3600&#39;,
 &#39;defin&#39;,
 &#39;us903_tcp_port&#39;,
 &#39;29001&#39;,
 &#39;follow&#39;,
 &#39;csr&#39;,
 &#39;generat&#39;,
 &#39;use&#39;,
 &#39;follow&#39;,
 &#39;openssl&#39;,
 &#39;command&#39;,
 &#39;use&#39;,
 &#39;cat&#39;,
 &#39;rsa&#39;,
 &#39;req&#39;,
 &#39;file&#39;,
 &#39;openssl&#39;,
 &#39;req&#39;,
 &#39;newkey&#39;,
 &#39;rsa&#39;,
 &#39;2048&#39;,
 &#39;keyout&#39;,
 &#39;rsakey&#39;,
 &#39;pem&#39;,
 &#39;keyform&#39;,
 &#39;pem&#39;,
 &#39;rsa&#39;,
 &#39;req&#39;,
 &#39;outform&#39;,
 &#39;pem&#39;,
 &#39;defin&#39;,
 &#39;us903_pkcs10_rsa2048&#39;,
 &#39;miicv&#39;,
 &#39;tccaa&#39;,
 &#39;ucaqaw&#39;,
 &#39;delmak&#39;,
 &#39;ga1uebh&#39;,
 &#39;mcvvmx&#39;,
 &#39;ajbg&#39;,
 &#39;nvbag&#39;,
 &#39;mak5dmqww&#39;,
 &#39;ydvqqh&#39;,
 &#39;dansvfax&#39;,
 &#39;aqbg&#39;,
 &#39;nvbao&#39;,
 &#39;mcvjtqwnlcn&#39;,
 &#39;rjbz&#39;,
 &#39;emmao&#39;,
 &#39;ga1uecww&#39;,
 &#39;dcn&#39;,
 &#39;mraw&#39;,
 &#39;ydvqqd&#39;,
 &#39;dadyc2eg&#39;,
 &#39;zg9l&#39;,
 &#39;mrow&#39;,
 &#39;gayjko&#39;,
 &#39;zihvc&#39;,
 &#39;naqk&#39;,
 &#39;bfgtyc2fazg9l&#39;,
 &#39;nvb&#39;,
 &#39;tccasiw&#39;,
 &#39;dqyjko&#39;,
 &#39;nhvc&#39;,
 &#39;naqebbqadgg&#39;,
 &#39;epadccaqo&#39;,
 &#39;cgg&#39;,
 &#39;eban6p&#39;,
 &#39;ctbr&#39;,
 &#39;k7t029bganq0qhxhi&#39;,
 &#39;nl8opvxc7ji&#39;,
 &#39;qz39r3j9bo&#39;,
 &#39;be72xz0qx&#39;,
 &#39;ueygnh&#39;,
 &#39;hola&#39;,
 &#39;isasnzs2zkwpv&#39;,
 &#39;mhjwm&#39;,
 &#39;pynt39oci48i&#39;,
 &#39;fog&#39;,
 &#39;ldb&#39;,
 &#39;an83m&#39;,
 &#39;aoksfc&#39;,
 &#39;mlbib&#39;,
 &#39;ccsh4holhaa&#39;,
 &#39;wsk&#39;,
 &#39;rtasew16muoz&#39;,
 &#39;fu6v&#39;,
 &#39;bkw&#39;,
 &#39;i82j&#39;,
 &#39;kpyws0d&#39;,
 &#39;yoxu&#39;,
 &#39;wfig&#39;,
 &#39;e1hl&#39;,
 &#39;gplbzq7fr&#39;,
 &#39;bidrqk&#39;,
 &#39;ddgi&#39;,
 &#39;dd5nu&#39;,
 &#39;lmjgdak7v&#39;,
 &#39;b1ww&#39;,
 &#39;baw&#39;,
 &#39;6ai9v5psye1v8f&#39;,
 &#39;wdr6hw2gg9xn&#39;,
 &#39;b4p&#39;,
 &#39;cg1rl1l&#39;,
 &#39;systum&#39;,
 &#39;tgyb&#39;,
 &#39;m6cx&#39;,
 &#39;jyw&#39;,
 &#39;djj1zw&#39;,
 &#39;z1w&#39;,
 &#39;ixa&#39;,
 &#39;baxzax&#39;,
 &#39;xox0hn&#39;,
 &#39;zmtefx&#39;,
 &#39;fk1kv0caw&#39;,
 &#39;eaaa&#39;,
 &#39;aama0g&#39;,
 &#39;csq&#39;,
 &#39;e8l8j&#39;,
 &#39;fkr1h&#39;,
 &#39;svee&#39;,
 &#39;aqa58ruf&#39;,
 &#39;z4usku&#39;,
 &#39;nlsih7ucf8bk&#39;,
 &#39;qvgljnhsc&#39;,
 &#39;qucz&#39;,
 &#39;ibn&#39;,
 &#39;jzeq&#39;,
 &#39;epq&#39;,
 &#39;sdnom&#39;,
 &#39;fw6cv&#39;,
 &#39;x87fgyx&#39;,
 &#39;jgpw&#39;,
 &#39;nutn&#39;,
 &#39;uifj&#39;,
 &#39;zhr&#39;,
 &#39;wgf&#39;,
 &#39;nnbt&#39;,
 &#39;hrkecw&#39;,
 &#39;zex4&#39;,
 &#39;hc127jt&#39;,
 &#39;e3ci&#39;,
 &#39;dsr&#39;,
 &#39;a1o&#39;,
 &#39;yrcq93t&#39;,
 &#39;w2q9plvm&#39;,
 &#39;llyjc&#39;,
 &#39;s1khvd2nya79kf&#39;,
 &#39;s0ygmocsw1gel&#39;,
 &#39;vl2iz&#39;,
 &#39;ocay&#39;,
 &#39;as5gb9y2&#39;,
 &#39;ebw&#39;,
 &#39;yzw6vhj5qjp&#39;,
 &#39;cuz&#39;,
 &#39;j3e8cl3vd4kpi3j3b&#39;,
 &#39;zgdja9mdmd8j5zi&#39;,
 &#39;py56&#39;,
 &#39;auxar&#39;,
 &#39;wss&#39;,
 &#39;nci&#39;,
 &#39;h6e99w3tmr&#39;,
 &#39;uzb&#39;,
 &#39;lljkj&#39;,
 &#39;j7p&#39;,
 &#39;bxrnontgm5wzm&#39;,
 &#39;qfh4x&#39;,
 &#39;follow&#39;,
 &#39;csr&#39;,
 &#39;generat&#39;,
 &#39;use&#39;,
 &#39;follow&#39;,
 &#39;openssl&#39;,
 &#39;command&#39;,
 &#39;use&#39;,
 &#39;cat&#39;,
 &#39;req&#39;,
 &#39;file&#39;,
 &#39;openssl&#39;,
 &#39;req&#39;,
 &#39;newkey&#39;,
 &#39;256parm&#39;,
 &#39;keyout&#39;,
 &#39;eckey&#39;,
 &#39;pem&#39;,
 &#39;keyform&#39;,
 &#39;pem&#39;,
 &#39;req&#39;,
 &#39;outform&#39;,
 &#39;pem&#39;,
 &#39;defin&#39;,
 &#39;us903_pkcs10_dsa1024&#39;,
 &#39;miicfj&#39;,
 &#39;ccaj0caqawf&#39;,
 &#39;delmak&#39;,
 &#39;ga1uebh&#39;,
 &#39;mcvvmx&#39;,
 &#39;ajbg&#39;,
 &#39;nvbag&#39;,
 &#39;mak5dmqww&#39;,
 &#39;ydvqqh&#39;,
 &#39;dansvfax&#39;,
 &#39;arbg&#39;,
 &#39;nvbao&#39;,
 &#39;mck&#39;,
 &#39;rtqunvb&#39;,
 &#39;xbhbnkx&#39;,
 &#39;anbg&#39;,
 &#39;nvbas&#39;,
 &#39;mbk&#39;,
 &#39;rtqw9i&#39;,
 &#39;eqma4g&#39;,
 &#39;a1ueaww&#39;,
 &#39;hzhnh&#39;,
 &#39;igrv&#39;,
 &#39;ztea&#39;,
 &#39;mbg&#39;,
 &#39;gcsq&#39;,
 &#39;gsib3dqejarylzhnh&#39;,
 &#39;qgrv&#39;,
 &#39;zs5jb20wgg&#39;,
 &#39;g2miib&#39;,
 &#39;yhko&#39;,
 &#39;zizjg&#39;,
 &#39;eatccar4cg&#39;,
 &#39;yeaq&#39;,
 &#39;ifbyk7r&#39;,
 &#39;eaa&#39;,
 &#39;ulipb1gc&#39;,
 &#39;hhc0ctx6g0dh&#39;,
 &#39;bfd&#39;,
 &#39;opng&#39;,
 &#39;bse&#39;,
 &#39;tp5uf5lw8qm6o&#39;,
 &#39;cxst&#39;,
 &#39;u3n&#39;,
 &#39;yejalm&#39;,
 &#39;mvkj&#39;,
 &#39;fwbgv&#39;,
 &#39;bws8a&#39;,
 &#39;jbnj09d&#39;,
 &#39;ddn8sp&#39;,
 &#39;kegc&#39;,
 &#39;g0m&#39;,
 &#39;zpqd&#39;,
 &#39;mys6&#39;,
 &#39;b4qjjq5yax&#39;,
 &#39;atvi&#39;,
 &#39;ggm1efdhc&#39;,
 &#39;6ezm2t3cg&#39;,
 &#39;qklwo5a&#39;,
 &#39;bzqcc&#39;,
 &#39;cfqdc1ol&#39;,
 &#39;bfu&#39;,
 &#39;ohj&#39;,
 &#39;xaw&#39;,
 &#39;ee5epjk&#39;,
 &#39;rjw&#39;,
 &#39;kbg&#39;,
 &#39;lctj&#39;,
 &#39;vfnj&#39;,
 &#39;ao8x&#39;,
 &#39;smamw&#39;,
 &#39;nora&#39;,
 &#39;nfdi&#39;,
 &#39;zceam&#39;,
 &#39;d4838n&#39;,
 &#39;cgaj&#39;,
 &#39;vrqi&#39;,
 &#39;db1q5akk&#39;,
 &#39;lyxo&#39;,
 &#39;jx1yv7g&#39;,
 &#39;nba&#39;,
 &#39;bnuys3waqdu&#39;,
 &#39;nso1htu&#39;,
 &#39;eur2cbh&#39;,
 &#39;u5i&#39;,
 &#39;kbwpj6miwl&#39;,
 &#39;d3u&#39;,
 &#39;cru4ui&#39;,
 &#39;bf9xbi&#39;,
 &#39;ana&#39;,
 &#39;rid8ct2kchhwy4ok&#39;,
 &#39;qmu&#39;,
 &#39;yoz4&#39;,
 &#39;mqqm&#39;,
 &#39;a4geaakbg&#39;,
 &#39;duw&#39;,
 &#39;r7h3u4cfu&#39;,
 &#39;ttr&#39;,
 &#39;i50m1txhl&#39;,
 &#39;vz3ton&#39;,
 &#39;vix&#39;,
 &#39;ehpu&#39;,
 &#39;aoux&#39;,
 &#39;atvkth&#39;,
 &#39;jta&#39;,
 &#39;cbkc0ehii1b&#39;,
 &#39;nug&#39;,
 &#39;bub&#39;,
 &#39;xfpk&#39;,
 &#39;rt3qrlf0&#39;,
 &#39;pzgi&#39;,
 &#39;0tov&#39;,
 &#39;o9p&#39;,
 &#39;kjqiw0c10l&#39;,
 &#39;nkfb&#39;,
 &#39;evdl&#39;,
 &#39;xyt&#39;,
 &#39;akj&#39;,
 &#39;xub&#39;,
 &#39;hmi&#39;,
 &#39;nog3195&#39;,
 &#39;t7o&#39;,
 &#39;kxhmt1a&#39;,
 &#39;ucro&#39;,
 &#39;aaw&#39;,
 &#39;cqyhko&#39;,
 &#39;zizjg&#39;,
 &#39;eaw&#39;,
 &#39;adat&#39;,
 &#39;uah&#39;,
 &#39;pcq&#39;,
 &#39;qg3g&#39;,
 &#39;kuupkdw&#39;,
 &#39;bncm&#39;,
 &#39;zfz&#39;,
 &#39;wdqjs&#39;,
 &#39;cfah0&#39;,
 &#39;nzn9hujl&#39;,
 &#39;xna&#39;,
 &#39;ta1ohjm&#39;,
 &#39;pmc&#39;,
 &#39;jsx&#39;,
 &#39;follow&#39;,
 &#39;csr&#39;,
 &#39;generat&#39;,
 &#39;use&#39;,
 &#39;follow&#39;,
 &#39;openssl&#39;,
 &#39;command&#39;,
 &#39;use&#39;,
 &#39;cat&#39;,
 &#39;dsa&#39;,
 &#39;req&#39;,
 &#39;file&#39;,
 &#39;openssl&#39;,
 &#39;req&#39;,
 &#39;newkey&#39;,
 &#39;dsa&#39;,
 &#39;dsaparm&#39;,
 &#39;keyout&#39;,
 &#39;dsakey&#39;,
 &#39;pem&#39;,
 &#39;keyform&#39;,
 &#39;pem&#39;,
 &#39;dsa&#39;,
 &#39;req&#39;,
 &#39;outform&#39;,
 &#39;pem&#39;,
 &#39;defin&#39;,
 &#39;miibmtcb2g&#39;,
 &#39;ibadb4mqsw&#39;,
 &#39;cqydvqqgew&#39;,
 &#39;jvuz&#39;,
 &#39;elmak&#39;,
 &#39;ga1uecaw&#39;,
 &#39;ctk&#39;,
 &#39;ddakbg&#39;,
 &#39;nvbac&#39;,
 &#39;a1juudesmbaga1uecgw&#39;,
 &#39;jrundb21w&#39;,
 &#39;yw55mq4w&#39;,
 &#39;daydvqqldavfq29i&#39;,
 &#39;epma0ga1u&#39;,
 &#39;aww&#39;,
 &#39;grumg&#39;,
 &#39;zg9l&#39;,
 &#39;mrkw&#39;,
 &#39;yjko&#39;,
 &#39;zihvc&#39;,
 &#39;naqk&#39;,
 &#39;bfgpl&#39;,
 &#39;y0bkb2uu&#39;,
 &#39;y29t&#39;,
 &#39;mfkw&#39;,
 &#39;yhko&#39;,
 &#39;zizj0c&#39;,
 &#39;aqyiko&#39;,
 &#39;zizj0daqc&#39;,
 &#39;dqg&#39;,
 &#39;aeo1usz&#39;,
 &#39;ckd&#39;,
 &#39;xnfzyg&#39;,
 &#39;nlne&#39;,
 &#39;s8az&#39;,
 &#39;qkod1516gt9qd&#39;,
 &#39;dddt9i&#39;,
 &#39;jn4&#39;,
 &#39;btnv&#39;,
 &#39;7k7&#39;,
 &#39;tji5kts1k&#39;,
 &#39;wsyyvq&#39;,
 &#39;lxvnq8q&#39;,
 &#39;tu1i&#39;,
 &#39;qj56aamak&#39;,
 &#39;gbyq&#39;,
 &#39;gsm49baedrw&#39;,
 &#39;raig&#39;,
 &#39;p6qda&#39;,
 &#39;0tekzfpopg&#39;,
 &#39;ufw&#39;,
 &#39;fmrsxc&#39;,
 &#39;nmu&#39;,
 &#39;que2yuz16460&#39;,
 &#39;sqcibf&#39;,
 &#39;lvmu&#39;,
 &#39;mey&#39;,
 &#39;yoqbb&#39;,
 &#39;x0ifde9yzk&#39;,
 &#39;rovbcepv&#39;,
 &#39;k0hc&#39;,
 &#39;u5k&#39;,
 &#39;defin&#39;,
 &#39;us903_pkcs10_corrupt&#39;,
 &#39;miibmtcb2g&#39;,
 &#39;ibadb4mqsw&#39;,
 &#39;cqydvqqgew&#39;,
 &#39;jvuz&#39;,
 &#39;elmak&#39;,
 &#39;ga1uecaw&#39;,
 &#39;ctk&#39;,
 &#39;ddakbg&#39;,
 &#39;nvbac&#39;,
 &#39;a1juudesmbaga1uecgw&#39;,
 &#39;jrundb21w&#39;,
 &#39;yw55mq4w&#39;,
 &#39;daydvqqldavfq39i&#39;,
 &#39;epma0ga1u&#39;,
 &#39;aww&#39;,
 &#39;grumg&#39;,
 &#39;zg9l&#39;,
 &#39;mrkw&#39;,
 &#39;yjko&#39;,
 &#39;zihvc&#39;,
 &#39;naqk&#39;,
 &#39;bfgpl&#39;,
 &#39;y0bkb2uu&#39;,
 &#39;y29t&#39;,
 &#39;mfkw&#39;,
 &#39;yhko&#39;,
 &#39;zizj0c&#39;,
 &#39;aqyiko&#39;,
 &#39;zizj0daqc&#39;,
 &#39;dqg&#39;,
 &#39;aeo1usz&#39;,
 &#39;ckd&#39;,
 &#39;xnfzyg&#39;,
 &#39;nlne&#39;,
 &#39;s8az&#39;,
 &#39;qkod1516gt9qd&#39;,
 &#39;dddt9i&#39;,
 &#39;jn4&#39;,
 &#39;btnv&#39;,
 &#39;7k7&#39;,
 &#39;tji5kts1k&#39;,
 &#39;wsyyvq&#39;,
 &#39;lxvnq8q&#39;,
 &#39;tu1i&#39;,
 &#39;qj56aamak&#39;,
 &#39;gbyq&#39;,
 &#39;gsm49baedrw&#39;,
 &#39;raig&#39;,
 &#39;p6qda&#39;,
 &#39;0tekzfpopg&#39;,
 &#39;ufw&#39;,
 &#39;fmrsxc&#39;,
 &#39;nmu&#39;,
 &#39;que2yuz16460&#39;,
 &#39;sqcibf&#39;,
 &#39;lvmu&#39;,
 &#39;mey&#39;,
 &#39;yoqbb&#39;,
 &#39;x0ifde9yzk&#39;,
 &#39;rovbcepv&#39;,
 &#39;k0hc&#39;,
 &#39;u5k&#39;,
 &#39;follow&#39;,
 &#39;valid&#39;,
 &#39;csr&#39;,
 &#39;alreadi&#39;,
 &#39;contain&#39;,
 &#39;challeng&#39;,
 &#39;password&#39;,
 &#39;collect&#39;,
 &#39;use&#39;,
 &#39;estserv&#39;,
 &#39;dumpbin&#39;,
 &#39;function&#39;,
 &#39;csr&#39;,
 &#39;never&#39;,
 &#39;work&#39;,
 &#39;sinc&#39;,
 &#39;valu&#39;,
 &#39;stale&#39;,
 &#39;defin&#39;,
 &#39;miibcj&#39;,
 &#39;cb3aibadarmq8w&#39;,
 &#39;dqydvqqdew&#39;,
 &#39;zurvnuq04wg&#39;,
 &#39;z8w&#39;,
 &#39;dqyjko&#39;,
 &#39;zihvc&#39;,
 &#39;naqebbqad&#39;,
 &#39;y0amigjao&#39;,
 &#39;gbapdhvrk&#39;,
 &#39;vb3&#39;,
 &#39;fhl&#39;,
 &#39;isr&#39;,
 &#39;zgixld&#39;,
 &#39;ryrd50s2v&#39;,
 &#39;fs8m&#39;,
 &#39;w5w&#39;,
 &#39;wvx&#39;,
 &#39;ds3x&#39;,
 &#39;nzc&#39;,
 &#39;ktqg7juy&#39;,
 &#39;w8nyofnwx0ozh&#39;,
 &#39;ce87xp2h7t&#39;,
 &#39;84zu&#39;,
 &#39;ktlu3bjgq1xg&#39;,
 &#39;nuu8a1ht10wiy8u2r&#39;,
 &#39;ekmh&#39;,
 &#39;qwpvt56uy5p&#39;,
 &#39;hzuqmql&#39;,
 &#39;o0qlm&#39;,
 &#39;m58wn49ih&#39;,
 &#39;mbaagg&#39;,
 &#39;bgkqhki&#39;,
 &#39;g9w0bcqcx&#39;,
 &#39;yrujd&#39;,
 &#39;gn1zunuwyd2vu&#39;,
 &#39;aow&#39;,
 &#39;dqyjko&#39;,
 &#39;zihvc&#39;,
 &#39;naqef&#39;,
 &#39;bqadg&#39;,
 &#39;yeayenrskmf&#39;,
 &#39;rixcp&#39;,
 &#39;kbv&#39;,
 &#39;l3vn&#39;,
 &#39;w5n4hc&#39;,
 &#39;ltw&#39;,
 &#39;i9hcbr744swfqaw&#39;,
 &#39;uxd2j&#39;,
 &#39;n99agbr&#39;,
 &#39;tgh&#39;,
 &#39;inwg2c7vz&#39;,
 &#39;g6ok9fti&#39;,
 &#39;nr9h&#39;,
 &#39;5slyhf&#39;,
 &#39;sfjbu&#39;,
 &#39;iv65r&#39;,
 &#39;nvf&#39;,
 &#39;lr9n9m2q9jlf7p4ayf&#39;,
 &#39;wxd2q&#39;,
 &#39;d2xotzw2t4tr&#39;,
 &#39;gzgka2jr&#39;,
 &#39;b40&#39;,
 &#39;defin&#39;,
 &#39;us903_enroll_url_ba&#39;,
 &#39;https&#39;,
 &#39;://&#39;,
 &#39;127&#39;,
 &#39;29001&#39;,
 &#39;well&#39;,
 &#39;known&#39;,
 &#39;est&#39;,
 &#39;simpleenrol&#39;,
 &#39;defin&#39;,
 &#39;us903_pkcs10_ct&#39;,
 &#39;content&#39;,
 &#39;type&#39;,
 &#39;applic&#39;,
 &#39;pkcs10&#39;,
 &#39;defin&#39;,
 &#39;us903_uidpwd_good&#39;,
 &#39;estus&#39;,
 &#39;estpwd&#39;,
 &#39;static&#39;,
 &#39;evp_pkey&#39;,
 &#39;generate_private_key&#39;,
 &#39;void&#39;,
 &#39;rsa&#39;,
 &#39;rsa&#39;,
 &#39;rsa_new&#39;,
 &#39;();&#39;,
 &#39;bignum&#39;,
 &#39;bn_new&#39;,
 &#39;();&#39;,
 &#39;evp_pkey&#39;,
 &#39;pkey&#39;,
 &#39;creat&#39;,
 &#39;rsa&#39;,
 &#39;keypair&#39;,
 &#39;assign&#39;,
 &#39;pkey&#39;,
 &#39;return&#39;,
 &#39;bn_set_word&#39;,
 &#39;0x10001&#39;,
 &#39;rsa_generate_key_ex&#39;,
 &#39;rsa&#39;,
 &#39;1024&#39;,
 &#39;null&#39;,
 &#39;pkey&#39;,
 &#39;evp_pkey_new&#39;,
 &#39;();&#39;,
 &#39;pkey&#39;,
 &#39;null&#39;,
 &#39;printf&#39;,
 &#39;(&#34;\\&#39;,
 &#39;error&#39;,
 &#39;alloc&#39;,
 &#39;pkey&#39;,
 &#39;structur&#39;,
 &#39;new&#39;,
 &#39;key&#39;,
 &#39;pair&#39;,
 &#39;&#34;);&#39;,
 &#39;return&#39;,
 &#39;null&#39;,
 &#39;evp_pkey_set1_rsa&#39;,
 &#39;pkey&#39;,
 &#39;rsa&#39;,
 &#39;printf&#39;,
 &#39;(&#34;\\&#39;,
 &#39;error&#39;,
 &#39;assign&#39;,
 &#39;rsa&#39;,
 &#39;key&#39;,
 &#39;pair&#39;,
 &#39;pkey&#39;,
 &#39;structur&#39;,
 &#39;&#34;);&#39;,
 &#39;return&#39;,
 &#39;null&#39;,
 &#39;rsa_fre&#39;,
 &#39;rsa&#39;,
 &#39;bn_free&#39;,
 &#39;return&#39;,
 &#39;pkey&#39;,
 &#39;callback&#39;,
 &#39;function&#39;,
 &#39;pass&#39;,
 &#39;est_client_init&#39;,
 &#39;static&#39;,
 &#39;int&#39;,
 &#39;x509&#39;,
 &#39;cur_cert&#39;,
 &#39;int&#39;,
 &#39;openssl_cert_error&#39;,
 &#39;bio&#39;,
 &#39;bio_err&#39;,
 &#39;bio_err&#39;,
 &#39;bio_new_fp&#39;,
 &#39;stderr&#39;,
 &#39;bio_noclos&#39;,
 &#39;int&#39;,
 &#39;approv&#39;,
 &#39;print&#39;,
 &#39;specif&#39;,
 &#39;cert&#39;,
 &#39;printf&#39;,
 &#39;open&#39;,
 &#39;ssl&#39;,
 &#39;est&#39;,
 &#39;server&#39;,
 &#39;cert&#39;,
 &#39;verif&#39;,
 &#39;fail&#39;,
 &#39;follow&#39;,
 &#39;error&#39;,
 &#39;openssl_cert_error&#39;,
 &#39;__function__&#39;,
 &#39;openssl_cert_error&#39;,
 &#39;openssl_cert_error&#39;,
 &#39;));&#39;,
 &#39;printf&#39;,
 &#39;fail&#39;,
 &#39;cert&#39;,
 &#39;&#34;);&#39;,
 &#39;x509_print_fp&#39;,
 &#39;stdout&#39;,
 &#39;cur_cert&#39;,
 &#39;next&#39;,
 &#39;call&#39;,
 &#39;print&#39;,
 &#39;signatur&#39;,
 &#39;use&#39;,
 &#39;fingerprint&#39;,
 &#39;fingerprint&#39;,
 &#39;check&#39;,
 &#39;anticip&#39;,
 &#39;valu&#39;,
 &#39;determin&#39;,
 &#39;whether&#39;,
 &#39;server&#39;,
 &#39;cert&#39;,
 &#39;approv&#39;,
 &#39;x509_signature_print&#39;,
 &#39;bio_err&#39;,
 &#39;cur_cert&#39;,
 &#39;sig_alg&#39;,
 &#39;cur_cert&#39;,
 &#39;signatur&#39;,
 &#39;openssl_cert_error&#39;,
 &#39;approv&#39;,
 &#39;bio_fre&#39;,
 &#39;bio_err&#39;,
 &#39;return&#39;,
 &#39;approv&#39;,
 &#39;static&#39;,
 &#39;file&#39;,
 &#39;outfil&#39;,
 &#39;static&#39;,
 &#39;size_t&#39;,
 &#39;write_func&#39;,
 &#39;void&#39;,
 &#39;ptr&#39;,
 &#39;size_t&#39;,
 &#39;size&#39;,
 &#39;size_t&#39;,
 &#39;nmemb&#39;,
 &#39;void&#39;,
 &#39;userdata&#39;,
 &#39;size_t&#39;,
 &#39;written&#39;,
 &#39;written&#39;,
 &#39;fwrite&#39;,
 &#39;ptr&#39;,
 &#39;size&#39;,
 &#39;nmemb&#39;,
 &#39;outfil&#39;,
 &#39;return&#39;,
 &#39;written&#39;,
 &#39;static&#39;,
 &#39;void&#39;,
 &#39;us903_clean&#39;,
 &#39;void&#39;,
 &#39;static&#39;,
 &#39;int&#39;,
 &#39;us903_start_serv&#39;,
 &#39;int&#39;,
 &#39;manual_enrol&#39;,
 &#39;int&#39;,
 &#39;nid&#39;,
 &#39;int&#39;,
 &#39;st_start&#39;,
 &#39;us903_tcp_port&#39;,
 &#39;us903&#39;,
 &#39;test&#39;,
 &#39;realm&#39;,
 &#39;us903_cacert&#39;,
 &#39;us903_trusted_cert&#39;,
 &#39;est&#39;,
 &#39;exampl&#39;,
 &#39;cnf&#39;,
 &#39;manual_enrol&#39;,
 &#39;nid&#39;,
 &#39;return&#39;,
 &#39;routin&#39;,
 &#39;call&#39;,
 &#39;cunit&#39;,
 &#39;initi&#39;,
 &#39;test&#39;,
 &#39;suit&#39;,
 &#39;use&#39;,
 &#39;alloc&#39;,
 &#39;data&#39;,
 &#39;open&#39;,
 &#39;resourc&#39;,
 &#39;requir&#39;,
 &#39;test&#39;,
 &#39;case&#39;,
 &#39;static&#39;,
 &#39;int&#39;,
 &#39;us903_init_suit&#39;,
 &#39;void&#39;,
 &#39;int&#39;,
 &#39;est_init_logg&#39;,
 &#39;est_log_lvl_info&#39;,
 &#39;null&#39;,
 &#39;read&#39;,
 &#39;certif&#39;,
 &#39;cacerts_len&#39;,
 &#39;read_binary_fil&#39;,
 &#39;us903_cacert&#39;,
 &#39;cacert&#39;,
 &#39;cacerts_len&#39;,
 &#39;return&#39;,
 &#39;us903_clean&#39;,
 &#39;();&#39;,
 &#39;start&#39;,
 &#39;instanc&#39;,
 &#39;est&#39;,
 &#39;server&#39;,
 &#39;automat&#39;,
 &#39;enrol&#39;,
 &#39;enabl&#39;,
 &#39;us903_start_serv&#39;,
 &#39;return&#39;,
 &#39;routin&#39;,
 &#39;call&#39;,
 &#39;cunit&#39;,
 &#39;uniniti&#39;,
 &#39;test&#39;,
 &#39;suit&#39;,
 &#39;use&#39;,
 &#39;dealloc&#39;,
 &#39;data&#39;,
 &#39;close&#39;,
 &#39;resourc&#39;,
 &#39;use&#39;,
 &#39;test&#39;,
 &#39;case&#39;,
 &#39;static&#39;,
 &#39;int&#39;,
 &#39;us903_destory_suit&#39;,
 &#39;void&#39;,
 &#39;st_stop&#39;,
 &#39;();&#39;,
 &#39;free&#39;,
 &#39;cacert&#39;,
 &#39;return&#39;,
 &#39;simpl&#39;,
 &#39;enrol&#39;,
 &#39;rsa&#39;,
 &#39;2048&#39;,
 &#39;test&#39;,
 &#39;case&#39;,
 &#39;use&#39;,
 &#39;libcurl&#39;,
 &#39;test&#39;,
 &#39;simpl&#39;,
 &#39;enrol&#39;,
 &#39;2048&#39;,
 &#39;bit&#39;,
 &#39;rsa&#39;,
 &#39;csr&#39;,
 &#39;http&#39;,
 &#39;basic&#39;,
 &#39;authent&#39;,
 &#39;use&#39;,
 &#39;static&#39;,
 &#39;void&#39;,
 &#39;us903_test1&#39;,
 &#39;void&#39;,
 &#39;long&#39;,
 &#39;log_func_nm&#39;,
 &#39;curl_http_post&#39;,
 &#39;us903_enroll_url_ba&#39;,
 &#39;us903_pkcs10_ct&#39;,
 &#39;us903_pkcs10_rsa2048&#39;,
 &#39;us903_uidpwd_good&#39;,
 &#39;us903_cacert&#39;,
 &#39;curlauth_bas&#39;,
 &#39;null&#39;,
 &#39;null&#39;,
 ...]</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">documents</span><span class="p">[</span><span class="mi">80</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>[&#39;libest&#39;,
 &#39;test&#39;,
 &#39;api&#39;,
 &#39;void&#39;,
 &#39;est&#39;,
 &#39;log&#39;,
 &#39;est&#39;,
 &#39;log&#39;,
 &#39;level&#39;,
 &#39;lvl&#39;,
 &#39;char&#39;,
 &#39;format&#39;,
 &#39;libest&#39;,
 &#39;test&#39;,
 &#39;api&#39;,
 &#39;void&#39;,
 &#39;est&#39;,
 &#39;log&#39;,
 &#39;backtrac&#39;,
 &#39;void&#39;,
 &#39;est&#39;,
 &#39;char&#39;,
 &#39;est&#39;,
 &#39;get&#39;,
 &#39;tls&#39;,
 &#39;uid&#39;,
 &#39;ssl&#39;,
 &#39;ssl&#39;,
 &#39;int&#39;,
 &#39;client&#39;,
 &#39;est&#39;,
 &#39;libest&#39;,
 &#39;test&#39;,
 &#39;api&#39;,
 &#39;est&#39;,
 &#39;error&#39;,
 &#39;est&#39;,
 &#39;load&#39;,
 &#39;cert&#39;,
 &#39;est&#39;,
 &#39;ctx&#39;,
 &#39;ctx&#39;,
 &#39;unsign&#39;,
 &#39;char&#39;,
 &#39;raw&#39;,
 &#39;int&#39;,
 &#39;size&#39;,
 &#39;est&#39;,
 &#39;libest&#39;,
 &#39;test&#39;,
 &#39;api&#39;,
 &#39;est&#39;,
 &#39;error&#39;,
 &#39;est&#39;,
 &#39;load&#39;,
 &#39;trust&#39;,
 &#39;cert&#39;,
 &#39;est&#39;,
 &#39;ctx&#39;,
 &#39;ctx&#39;,
 &#39;unsign&#39;,
 &#39;char&#39;,
 &#39;cert&#39;,
 &#39;int&#39;,
 &#39;cert&#39;,
 &#39;len&#39;,
 &#39;est&#39;,
 &#39;void&#39;,
 &#39;est&#39;,
 &#39;log&#39;,
 &#39;est&#39;,
 &#39;log&#39;,
 &#39;level&#39;,
 &#39;lvl&#39;,
 &#39;char&#39;,
 &#39;format&#39;,
 &#39;est&#39;,
 &#39;libest&#39;,
 &#39;test&#39;,
 &#39;api&#39;,
 &#39;void&#39;,
 &#39;est&#39;,
 &#39;log&#39;,
 &#39;version&#39;,
 &#39;void&#39;,
 &#39;est&#39;,
 &#39;void&#39;,
 &#39;est&#39;,
 &#39;hex&#39;,
 &#39;str&#39;,
 &#39;char&#39;,
 &#39;dst&#39;,
 &#39;unsign&#39;,
 &#39;char&#39;,
 &#39;src&#39;,
 &#39;int&#39;,
 &#39;len&#39;,
 &#39;est&#39;,
 &#39;int&#39;,
 &#39;est&#39;,
 &#39;base&#39;,
 &#39;encod&#39;,
 &#39;const&#39;,
 &#39;char&#39;,
 &#39;src&#39;,
 &#39;int&#39;,
 &#39;actual&#39;,
 &#39;src&#39;,
 &#39;len&#39;,
 &#39;char&#39;,
 &#39;dst&#39;,
 &#39;int&#39;,
 &#39;max&#39;,
 &#39;dst&#39;,
 &#39;len&#39;,
 &#39;est&#39;,
 &#39;libest&#39;,
 &#39;test&#39;,
 &#39;api&#39;,
 &#39;int&#39;,
 &#39;est&#39;,
 &#39;base&#39;,
 &#39;decod&#39;,
 &#39;const&#39;,
 &#39;char&#39;,
 &#39;src&#39;,
 &#39;char&#39;,
 &#39;dst&#39;,
 &#39;int&#39;,
 &#39;max&#39;,
 &#39;len&#39;,
 &#39;est&#39;,
 &#39;server&#39;,
 &#39;int&#39;,
 &#39;est&#39;,
 &#39;http&#39;,
 &#39;request&#39;,
 &#39;est&#39;,
 &#39;ctx&#39;,
 &#39;ctx&#39;,
 &#39;void&#39;,
 &#39;http&#39;,
 &#39;ctx&#39;,
 &#39;char&#39;,
 &#39;method&#39;,
 &#39;char&#39;,
 &#39;uri&#39;,
 &#39;char&#39;,
 &#39;bodi&#39;,
 &#39;int&#39;,
 &#39;bodi&#39;,
 &#39;len&#39;,
 &#39;const&#39;,
 &#39;char&#39;,
 &#39;est&#39;,
 &#39;client&#39;,
 &#39;libest&#39;,
 &#39;test&#39;,
 &#39;api&#39;,
 &#39;est&#39;,
 &#39;error&#39;,
 &#39;est&#39;,
 &#39;client&#39;,
 &#39;connect&#39;,
 &#39;est&#39;,
 &#39;ctx&#39;,
 &#39;ctx&#39;,
 &#39;ssl&#39;,
 &#39;ssl&#39;,
 &#39;est&#39;,
 &#39;client&#39;,
 &#39;int&#39;,
 &#39;est&#39;,
 &#39;client&#39;,
 &#39;send&#39;,
 &#39;enrol&#39;,
 &#39;request&#39;,
 &#39;est&#39;,
 &#39;ctx&#39;,
 &#39;ctx&#39;,
 &#39;ssl&#39;,
 &#39;ssl&#39;,
 &#39;buf&#39;,
 &#39;mem&#39;,
 &#39;bptr&#39;,
 &#39;unsign&#39;,
 &#39;char&#39;,
 &#39;pkcs&#39;,
 &#39;int&#39;,
 &#39;pkcs&#39;,
 &#39;len&#39;,
 &#39;int&#39;,
 &#39;reenrol&#39;,
 &#39;est&#39;,
 &#39;client&#39;,
 &#39;libest&#39;,
 &#39;test&#39;,
 &#39;api&#39;,
 &#39;void&#39;,
 &#39;est&#39;,
 &#39;client&#39;,
 &#39;disconnect&#39;,
 &#39;est&#39;,
 &#39;ctx&#39;,
 &#39;ctx&#39;,
 &#39;ssl&#39;,
 &#39;ssl&#39;,
 &#39;est&#39;,
 &#39;client&#39;,
 &#39;libest&#39;,
 &#39;test&#39;,
 &#39;api&#39;,
 &#39;int&#39;,
 &#39;ssl_ctx&#39;,
 &#39;ctx&#39;,
 &#39;x509&#39;,
 &#39;cert&#39;,
 &#39;evp_pkey&#39;,
 &#39;key&#39;,
 &#39;est_client&#39;,
 &#39;est_error&#39;,
 &#39;est_ctx&#39;,
 &#39;ctx&#39;,
 &#39;const&#39;,
 &#39;char&#39;,
 &#39;uid&#39;,
 &#39;const&#39;,
 &#39;char&#39;,
 &#39;pwd&#39;,
 &#39;est_client_http&#39;,
 &#39;est_error&#39;,
 &#39;est_io_get_respons&#39;,
 &#39;est_ctx&#39;,
 &#39;ctx&#39;,
 &#39;ssl&#39;,
 &#39;ssl&#39;,
 &#39;est_oper&#39;,
 &#39;unsign&#39;,
 &#39;char&#39;,
 &#39;buf&#39;,
 &#39;int&#39;,
 &#39;payload_len&#39;,
 &#39;est_proxi&#39;,
 &#39;libest_test_api&#39;,
 &#39;est_error&#39;,
 &#39;est_ctx&#39;,
 &#39;ctx&#39;,
 &#39;void&#39;,
 &#39;http_ctx&#39;,
 &#39;char&#39;,
 &#39;method&#39;,
 &#39;char&#39;,
 &#39;uri&#39;,
 &#39;char&#39;,
 &#39;bodi&#39;,
 &#39;int&#39;,
 &#39;body_len&#39;,
 &#39;const&#39;,
 &#39;char&#39;,
 &#39;est_proxi&#39;,
 &#39;void&#39;,
 &#39;proxy_cleanup&#39;,
 &#39;est_ctx&#39;,
 &#39;p_ctx&#39;,
 &#39;est_proxi&#39;,
 &#39;est_error&#39;,
 &#39;const&#39;,
 &#39;char&#39;,
 &#39;int&#39;,
 &#39;len&#39;,
 &#39;int&#39;,
 &#39;offset&#39;,
 &#39;est_proxi&#39;,
 &#39;est_error&#39;,
 &#39;est_is_challeng&#39;,
 &#39;password_pres&#39;,
 &#39;const&#39;,
 &#39;char&#39;,
 &#39;base64_ptr&#39;,
 &#39;int&#39;,
 &#39;b64_len&#39;,
 &#39;int&#39;,
 &#39;offset&#39;,
 &#39;est_proxi&#39;,
 &#39;est_error&#39;,
 &#39;est_add_challeng&#39;,
 &#39;password&#39;,
 &#39;const&#39;,
 &#39;char&#39;,
 &#39;base64_ptr&#39;,
 &#39;int&#39;,
 &#39;b64_len&#39;,
 &#39;char&#39;,
 &#39;new_csr&#39;,
 &#39;int&#39;,
 &#39;pop_len&#39;,
 &#39;est_proxi&#39;,
 &#39;libest_test_api&#39;,
 &#39;est_error&#39;,
 &#39;est_ctx&#39;,
 &#39;ctx&#39;,
 &#39;unsign&#39;,
 &#39;char&#39;,
 &#39;cacerts_rtn&#39;,
 &#39;int&#39;,
 &#39;cacerts_rtn_len&#39;,
 &#39;est_proxi&#39;,
 &#39;est_error&#39;,
 &#39;est_ctx&#39;,
 &#39;ctx&#39;,
 &#39;char&#39;,
 &#39;csr_data&#39;,
 &#39;int&#39;,
 &#39;csr_len&#39;,
 &#39;void&#39;,
 &#39;http_ctx&#39;,
 &#39;est_proxi&#39;,
 &#39;void&#39;,
 &#39;est_http_auth_hdr&#39;,
 &#39;auth_cr&#39;,
 &#39;est_proxi&#39;,
 &#39;est_error&#39;,
 &#39;est_parse_uri&#39;,
 &#39;char&#39;,
 &#39;uri&#39;,
 &#39;est_oper&#39;,
 &#39;oper&#39;,
 &#39;char&#39;,
 &#39;path_seg&#39;,
 &#39;est_proxi&#39;,
 &#39;est_error&#39;,
 &#39;est_store_path_seg&#39;,
 &#39;est_ctx&#39;,
 &#39;ctx&#39;,
 &#39;char&#39;,
 &#39;path_seg&#39;,
 &#39;int&#39;,
 &#39;path_segment_len&#39;,
 &#39;est_proxi&#39;,
 &#39;est_oper&#39;,
 &#39;est_parse_oper&#39;,
 &#39;char&#39;,
 &#39;op_path&#39;,
 &#39;est_proxi&#39;,
 &#39;int&#39;,
 &#39;est_strcasecmp_&#39;,
 &#39;char&#39;,
 &#39;char&#39;]</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">len</span><span class="p">(</span><span class="n">df_source</span><span class="p">[</span><span class="s1">&#39;text&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">())</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>255</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">sentence_1</span> <span class="o">=</span> <span class="n">df_source</span><span class="p">[</span><span class="s1">&#39;text&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">()</span> <span class="c1">#This data is already preprocessed</span>
<span class="n">sentence_2</span> <span class="o">=</span> <span class="n">df_source</span><span class="p">[</span><span class="s1">&#39;text&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">()</span> <span class="c1">#This data is already preprocessed</span>
<span class="n">sentence_3</span> <span class="o">=</span> <span class="n">df_source</span><span class="p">[</span><span class="s1">&#39;text&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">()</span> <span class="c1">#This data is already preprocessed</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">sentence_1</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>[&#39;requir&#39;,
 &#39;http&#39;,
 &#39;uri&#39;,
 &#39;control&#39;,
 &#39;est&#39;,
 &#39;server&#39;,
 &#39;must&#39;,
 &#39;support&#39;,
 &#39;use&#39;,
 &#39;path&#39;,
 &#39;prefix&#39;,
 &#39;well&#39;,
 &#39;known&#39;,
 &#39;defin&#39;,
 &#39;rfc&#39;,
 &#39;regist&#39;,
 &#39;name&#39;,
 &#39;est&#39;,
 &#39;thus&#39;,
 &#39;valid&#39;,
 &#39;est&#39;,
 &#39;server&#39;,
 &#39;uri&#39;,
 &#39;path&#39;,
 &#39;begin&#39;,
 &#39;https&#39;,
 &#39;www&#39;,
 &#39;exampl&#39;,
 &#39;com&#39;,
 &#39;well&#39;,
 &#39;known&#39;,
 &#39;est&#39;,
 &#39;est&#39;,
 &#39;oper&#39;,
 &#39;indic&#39;,
 &#39;path&#39;,
 &#39;suffix&#39;,
 &#39;indic&#39;,
 &#39;intend&#39;,
 &#39;oper&#39;,
 &#39;oper&#39;,
 &#39;correspond&#39;,
 &#39;uri&#39;,
 &#39;oper&#39;,
 &#39;oper&#39;,
 &#39;path&#39;,
 &#39;detail&#39;,
 &#39;distribut&#39;,
 &#39;cacert&#39;,
 &#39;section&#39;,
 &#39;certif&#39;,
 &#39;must&#39;,
 &#39;enrol&#39;,
 &#39;simpleenrol&#39;,
 &#39;section&#39;,
 &#39;client&#39;,
 &#39;must&#39;,
 &#39;enrol&#39;,
 &#39;simplereenrol&#39;,
 &#39;section&#39;,
 &#39;client&#39;,
 &#39;must&#39;,
 &#39;full&#39;,
 &#39;cmc&#39;,
 &#39;option&#39;,
 &#39;fullcmc&#39;,
 &#39;section&#39;,
 &#39;server&#39;,
 &#39;side&#39;,
 &#39;key&#39;,
 &#39;serverkeygen&#39;,
 &#39;section&#39;,
 &#39;generat&#39;,
 &#39;option&#39;,
 &#39;csr&#39;,
 &#39;attribut&#39;,
 &#39;csrattr&#39;,
 &#39;section&#39;,
 &#39;option&#39;,
 &#39;figur&#39;,
 &#39;oper&#39;,
 &#39;path&#39;,
 &#39;figur&#39;,
 &#39;append&#39;,
 &#39;path&#39;,
 &#39;prefix&#39;,
 &#39;form&#39;,
 &#39;uri&#39;,
 &#39;use&#39;,
 &#39;http&#39;,
 &#39;get&#39;,
 &#39;post&#39;,
 &#39;perform&#39;,
 &#39;desir&#39;,
 &#39;est&#39;,
 &#39;oper&#39;,
 &#39;exampl&#39;,
 &#39;valid&#39;,
 &#39;uri&#39;,
 &#39;absolut&#39;,
 &#39;path&#39;,
 &#39;cacert&#39;,
 &#39;oper&#39;,
 &#39;&#34;/.&#39;,
 &#39;well&#39;,
 &#39;known&#39;,
 &#39;est&#39;,
 &#39;cacert&#39;,
 &#39;retriev&#39;,
 &#39;certif&#39;,
 &#39;est&#39;,
 &#39;client&#39;,
 &#39;would&#39;,
 &#39;use&#39;,
 &#39;follow&#39;,
 &#39;http&#39;,
 &#39;request&#39;,
 &#39;line&#39;,
 &#39;get&#39;,
 &#39;well&#39;,
 &#39;known&#39;,
 &#39;est&#39;,
 &#39;cacert&#39;,
 &#39;http&#39;,
 &#39;likewis&#39;,
 &#39;request&#39;,
 &#39;new&#39;,
 &#39;certif&#39;,
 &#39;exampl&#39;,
 &#39;scheme&#39;,
 &#39;est&#39;,
 &#39;client&#39;,
 &#39;would&#39;,
 &#39;use&#39;,
 &#39;follow&#39;,
 &#39;request&#39;,
 &#39;line&#39;,
 &#39;post&#39;,
 &#39;well&#39;,
 &#39;known&#39;,
 &#39;est&#39;,
 &#39;simpleenrol&#39;,
 &#39;http&#39;,
 &#39;use&#39;,
 &#39;distinct&#39;,
 &#39;oper&#39;,
 &#39;path&#39;,
 &#39;simplifi&#39;,
 &#39;implement&#39;,
 &#39;server&#39;,
 &#39;perform&#39;,
 &#39;client&#39;,
 &#39;authent&#39;,
 &#39;distribut&#39;,
 &#39;cacert&#39;,
 &#39;respons&#39;,
 &#39;est&#39;,
 &#39;server&#39;,
 &#39;may&#39;,
 &#39;provid&#39;,
 &#39;servic&#39;,
 &#39;multipl&#39;,
 &#39;cas&#39;,
 &#39;indic&#39;,
 &#39;option&#39;,
 &#39;addit&#39;,
 &#39;path&#39;,
 &#39;segment&#39;,
 &#39;regist&#39;,
 &#39;applic&#39;,
 &#39;name&#39;,
 &#39;oper&#39;,
 &#39;path&#39;,
 &#39;avoid&#39;,
 &#39;conflict&#39;,
 &#39;label&#39;,
 &#39;must&#39;,
 &#39;defin&#39;,
 &#39;oper&#39;,
 &#39;path&#39;,
 &#39;segment&#39;,
 &#39;est&#39;,
 &#39;server&#39;,
 &#39;must&#39;,
 &#39;provid&#39;,
 &#39;servic&#39;,
 &#39;regardless&#39;,
 &#39;whether&#39;,
 &#39;addit&#39;,
 &#39;path&#39;,
 &#39;segment&#39;,
 &#39;present&#39;,
 &#39;follow&#39;,
 &#39;three&#39;,
 &#39;exampl&#39;,
 &#39;valid&#39;,
 &#39;uri&#39;,
 &#39;https&#39;,
 &#39;://&#39;,
 &#39;www&#39;,
 &#39;exampl&#39;,
 &#39;com&#39;,
 &#39;well&#39;,
 &#39;known&#39;,
 &#39;est&#39;,
 &#39;cacert&#39;,
 &#39;https&#39;,
 &#39;://&#39;,
 &#39;www&#39;,
 &#39;exampl&#39;,
 &#39;com&#39;,
 &#39;well&#39;,
 &#39;known&#39;,
 &#39;est&#39;,
 &#39;arbitrari&#39;,
 &#39;label1&#39;,
 &#39;cacert&#39;,
 &#39;https&#39;,
 &#39;://&#39;,
 &#39;www&#39;,
 &#39;exampl&#39;,
 &#39;com&#39;,
 &#39;well&#39;,
 &#39;known&#39;,
 &#39;est&#39;,
 &#39;arbitrari&#39;,
 &#39;label2&#39;,
 &#39;cacert&#39;,
 &#39;specif&#39;,
 &#39;distinct&#39;,
 &#39;enrol&#39;,
 &#39;renew&#39;,
 &#39;rekey&#39;,
 &#39;explicit&#39;,
 &#39;indic&#39;,
 &#39;http&#39;,
 &#39;uri&#39;,
 &#39;request&#39;,
 &#39;fullcmc&#39;,
 &#39;oper&#39;,
 &#39;cmc&#39;,
 &#39;rfc5272&#39;,
 &#39;use&#39;,
 &#39;messag&#39;,
 &#39;certif&#39;,
 &#39;renew&#39;,
 &#39;certif&#39;,
 &#39;rekey&#39;,
 &#39;est&#39;,
 &#39;server&#39;,
 &#39;provid&#39;,
 &#39;addit&#39;,
 &#39;servic&#39;,
 &#39;use&#39;,
 &#39;uri&#39;]</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1">#[Step 0] After preprocessing and loading the model</span>
<span class="n">new_model</span> <span class="o">=</span> <span class="n">gensim</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">Word2Vec</span><span class="o">.</span><span class="n">load</span><span class="p">(</span> <span class="n">params</span><span class="p">[</span><span class="s1">&#39;path_to_trained_model&#39;</span><span class="p">]</span> <span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>2020-06-09 20:42:44,094 : INFO : loading Word2Vec object from test_data/models/word2vec_libest.model
2020-06-09 20:42:44,201 : INFO : loading wv recursively from test_data/models/word2vec_libest.model.wv.* with mmap=None
2020-06-09 20:42:44,202 : INFO : setting ignored attribute vectors_norm to None
2020-06-09 20:42:44,202 : INFO : loading vocabulary recursively from test_data/models/word2vec_libest.model.vocabulary.* with mmap=None
2020-06-09 20:42:44,203 : INFO : loading trainables recursively from test_data/models/word2vec_libest.model.trainables.* with mmap=None
2020-06-09 20:42:44,203 : INFO : setting ignored attribute cum_table to None
2020-06-09 20:42:44,204 : INFO : loaded test_data/models/word2vec_libest.model
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">new_model</span><span class="o">.</span><span class="n">wv</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&lt;gensim.models.keyedvectors.Word2VecKeyedVectors at 0x7f4ee4009978&gt;</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1">#[Step 1] Prepare a dictionary and a corpus.</span>
<span class="c1">#documents = [sentence_1, sentence_2, sentence_3]</span>
<span class="n">dictionary</span> <span class="o">=</span> <span class="n">corpora</span><span class="o">.</span><span class="n">Dictionary</span><span class="p">(</span><span class="n">documents</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>2020-06-10 15:45:00,938 : INFO : adding document #0 to Dictionary(0 unique tokens: [])
2020-06-10 15:45:01,002 : INFO : built Dictionary(6957 unique tokens: [&#39;&#34;);&#39;, &#39;&#34;../../&#39;, &#39;(&#34;\\&#39;, &#39;();&#39;, &#39;)))&#39;]...) from 87 documents (total 88944 corpus positions)
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">dictionary</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&#39;(&#34;\\&#39;</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1">#[Step 2] Convert the sentences into bag-of-words vectors.</span>
<span class="c1"># https://en.wikipedia.org/wiki/Bag-of-words_model</span>
<span class="n">sentence_1</span> <span class="o">=</span> <span class="n">dictionary</span><span class="o">.</span><span class="n">doc2bow</span><span class="p">(</span><span class="n">documents</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="n">sentence_2</span> <span class="o">=</span> <span class="n">dictionary</span><span class="o">.</span><span class="n">doc2bow</span><span class="p">(</span><span class="n">documents</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="n">sentence_3</span> <span class="o">=</span> <span class="n">dictionary</span><span class="o">.</span><span class="n">doc2bow</span><span class="p">(</span><span class="n">documents</span><span class="p">[</span><span class="mi">80</span><span class="p">])</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">len</span><span class="p">(</span><span class="n">sentence_1</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>747</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">sentence_1</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="c1">#The frequencies to what extent a word occurs in the given sentence</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>(2, 2)</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">w2v_model</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&lt;gensim.models.keyedvectors.Word2VecKeyedVectors at 0x7f4ea7f27ac8&gt;</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1">#[Step 3] We will use the embeddings to construct a term similarity matrix that will be used by the inner_product method.</span>
<span class="c1">#WordEmbeddingSimilarityIndex Computes cosine similarities between word embeddings and retrieves the closest word embeddings by cosine similarity </span>
<span class="c1">#for a given word embedding.</span>
<span class="n">similarity_index</span> <span class="o">=</span> <span class="n">WordEmbeddingSimilarityIndex</span><span class="p">(</span><span class="n">new_model</span><span class="o">.</span><span class="n">wv</span><span class="p">)</span>
<span class="c1">#Build a term similarity matrix and compute the Soft Cosine Measure.</span>
<span class="n">similarity_matrix</span> <span class="o">=</span> <span class="n">SparseTermSimilarityMatrix</span><span class="p">(</span><span class="n">similarity_index</span><span class="p">,</span> <span class="n">dictionary</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>2020-06-10 15:46:36,910 : INFO : constructing a sparse term similarity matrix using &lt;gensim.models.keyedvectors.WordEmbeddingSimilarityIndex object at 0x7f4e989a3fd0&gt;
2020-06-10 15:46:36,912 : INFO : iterating over columns in dictionary order
2020-06-10 15:46:36,922 : INFO : PROGRESS: at 0.01% columns (1 / 6957, 0.014374% density, 0.014374% projected density)
2020-06-10 15:46:40,690 : INFO : PROGRESS: at 14.39% columns (1001 / 6957, 0.315672% density, 2.108413% projected density)
2020-06-10 15:46:43,414 : INFO : PROGRESS: at 28.76% columns (2001 / 6957, 0.524049% density, 1.786393% projected density)
2020-06-10 15:46:45,194 : INFO : PROGRESS: at 43.14% columns (3001 / 6957, 0.644822% density, 1.475896% projected density)
2020-06-10 15:46:46,851 : INFO : PROGRESS: at 57.51% columns (4001 / 6957, 0.754211% density, 1.300814% projected density)
2020-06-10 15:46:47,933 : INFO : PROGRESS: at 71.88% columns (5001 / 6957, 0.806662% density, 1.116543% projected density)
2020-06-10 15:46:49,278 : INFO : PROGRESS: at 86.26% columns (6001 / 6957, 0.890005% density, 1.029499% projected density)
2020-06-10 15:46:50,572 : INFO : constructed a sparse term similarity matrix with 0.969786% density
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1">#[Step 4]Let&#39;s compute SCM using the inner_product method.</span>
<span class="c1">#Return the inner product(s) between real vectors / corpora vec1 and vec2 expressed in a non-orthogonal normalized basis,</span>
<span class="c1">#where the dot product between the basis vectors is given by the sparse term similarity matrix.</span>
<span class="n">scm_similarity</span> <span class="o">=</span> <span class="n">similarity_matrix</span><span class="o">.</span><span class="n">inner_product</span><span class="p">(</span><span class="n">sentence_1</span><span class="p">,</span> <span class="n">sentence_2</span><span class="p">,</span> <span class="n">normalized</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;similarity = </span><span class="si">%.4f</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">scm_similarity</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>similarity = 0.6976
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1">#Computing un related sentenes</span>
<span class="n">scm_similarity</span> <span class="o">=</span> <span class="n">similarity_matrix</span><span class="o">.</span><span class="n">inner_product</span><span class="p">(</span><span class="n">sentence_1</span><span class="p">,</span> <span class="n">sentence_3</span><span class="p">,</span> <span class="n">normalized</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;similarity = </span><span class="si">%.4f</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">scm_similarity</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>similarity = 0.4969
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">!</span> nbdev_build_docs
</pre></div>

    </div>
</div>
</div>

</div>
</div>
 

