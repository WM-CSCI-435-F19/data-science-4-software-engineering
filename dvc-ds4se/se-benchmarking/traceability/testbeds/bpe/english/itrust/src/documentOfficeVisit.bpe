▁<%@ tag lib ▁uri ="/ W EB - INF / tags . tld " ▁prefix =" itrust " ▁%> ▁<%@ page ▁error Page ="/ auth / exception Handler . jsp " ▁%> ▁<%@ page ▁import =" java . util . List "%> ▁<%@ page ▁import =" edu . nc su . cs c . itrust . action . Add OfficeVisit Action "%> ▁<%@ page ▁import =" edu . nc su . cs c . itrust . beans . OfficeVisitBean "%> ▁<%@ include ▁file ="/ global . jsp " ▁%> ▁<% ▁pageTitle ▁= ▁" iTrust ▁- ▁ Document ▁Office ▁Visit "; ▁%> ▁<%@ include ▁file ="/ header . jsp " ▁%> ▁<% ▁/* ▁Require ▁a ▁Patient ▁ID ▁first ▁*/ ▁String ▁pidString ▁= ▁( String ) session . get Attribute (" pid "); ▁if ▁( pidString ▁== ▁null ▁|| ▁1 ▁> ▁pidString . length ()) ▁{ ▁response . send Redirect ("/ iTrust / auth / getPatientID . jsp ? forward = hcp - uap / document OfficeVisit . jsp "); ▁return ; ▁} ▁Add OfficeVisit Action ▁action ▁= ▁new ▁Add OfficeVisit Action ( prodDAO , ▁pidString ); ▁long ▁pid ▁= ▁action . get Pid (); ▁List < OfficeVisitBean > ▁visits ▁= ▁action . get AllOfficeVisits (); ▁if ▁ (" true " . equals ( request . getParameter (" formIsFilled "))) ▁{ ▁long ▁ovID ▁= ▁action . addEmpty OfficeVisit ( loggedInMID . longValue ()); ▁response . send Redirect (" e ditOfficeVisit . jsp ? ovID =" ▁+ ▁ovID ); ▁return ; ▁} ▁%> ▁< div ▁align = center > ▁< form ▁action =" document OfficeVisit . jsp " ▁method =" post " ▁id =" form Main "> ▁< input ▁type =" hidden " ▁name =" formIsFilled " ▁value =" true " ▁/> ▁< br ▁/>< br ▁/> ▁A re ▁you ▁sure ▁you ▁want ▁to ▁document ▁a ▁< em > new </ em > ▁office ▁visit ▁for ▁< b ><%= action . getUserName ()%></ b > ? < br ▁/>< br ▁/> ▁< input ▁ style =" font - size : ▁150 % ; ▁ font - weight : ▁bold ; " ▁type = submit ▁value =" Yes , ▁ Document ▁Office ▁Visit "> ▁</ form > ▁< br ▁/> ▁ Click ▁on ▁an ▁old ▁office ▁visit ▁to ▁modify :< br ▁/> ▁<% for ( OfficeVisitBean ▁ov ▁: ▁visits ){ ▁%> ▁< a ▁href =" e ditOfficeVisit . jsp ? ovID =<%= ov . get ID ()%>"><%= ov . getVisitDate Str ()%></ a >< br ▁/> ▁<%} ▁%> ▁< br ▁/>< br ▁/>< br ▁/> ▁</ div > ▁< itrust : patient Nav ▁thisTitle =" Document ▁Office ▁Visit " ▁/> ▁<%@ include ▁file ="/ f ooter . jsp " ▁%>