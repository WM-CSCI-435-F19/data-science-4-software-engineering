▁p ackage ▁edu . nc su . cs c . itrust . beans . loaders ; ▁import ▁java . sql . P reparedStatement ; ▁import ▁java . sql . ResultSet ; ▁import ▁java . sql . SQLException ; ▁import ▁java . text . SimpleDateFormat ; ▁import ▁java . util . ArrayList ; ▁import ▁java . util . List ; ▁import ▁edu . nc su . cs c . itrust . beans . PrescriptionBean ; ▁/** ▁* ▁A ▁loader ▁for ▁ PrescriptionBean s . ▁* ▁* ▁Load s ▁in ▁information ▁to / from ▁beans ▁using ▁ResultSet s ▁and ▁P reparedStatement s . ▁Use ▁the ▁superclass ▁to ▁enforce ▁consistency . ▁* ▁For ▁details ▁on ▁the ▁para dig m ▁for ▁a ▁loader ▁( and ▁what ▁its ▁methods ▁do ) , ▁see ▁ {@ link ▁BeanLoader } ▁*/ ▁public ▁class ▁Prescription BeanLoader ▁implement s ▁BeanLoader < PrescriptionBean > ▁{ ▁private ▁MedicationBean Loader ▁med Loader ; ▁public ▁Prescription BeanLoader () ▁{ ▁med Loader ▁= ▁new ▁MedicationBean Loader (); ▁} ▁public ▁List < PrescriptionBean > ▁load List ( ResultSet ▁rs ) ▁throw s ▁SQLException ▁{ ▁ArrayList < PrescriptionBean > ▁list ▁= ▁new ▁ArrayList < PrescriptionBean > (); ▁while ▁( rs . next ()) ▁{ ▁list . add ( loadSingle ( rs )); ▁} ▁return ▁list ; ▁} ▁public ▁ PrescriptionBean ▁loadSingle ( ResultSet ▁rs ) ▁throw s ▁SQLException ▁{ ▁ PrescriptionBean ▁pres ▁= ▁new ▁ PrescriptionBean (); ▁pres . set Id ( rs . getLong (" ID ")); ▁pres . set VisitID ( ( long ) ▁rs . getInt (" VisitID ")); ▁pres . setStartDate Str ( new ▁ SimpleDateFormat (" MM / dd / yyyy "). format ( new ▁java . util . Date ( rs . getDate ( ▁" StartDate "). getTime ())) ); ▁pres . setEndDate Str ( new ▁ SimpleDateFormat (" MM / dd / yyyy "). format ( new ▁java . util . Date ( rs . getDate (" EndDate ") ▁ . getTime ())) ); ▁pres . set Dosage ( rs . getInt (" Dosage ")); ▁pres . set Instructions ( rs . get String (" Instructions ")); ▁pres . set Medication ( med Loader . loadSingle ( rs )); ▁return ▁pres ; ▁} ▁public ▁P reparedStatement ▁load Parameters ( P reparedStatement ▁ps , ▁ PrescriptionBean ▁pres ) ▁throw s ▁SQLException ▁{ ▁ps . s etLong ( 1, ▁pres . get VisitID ()); ▁ps . set String (2, ▁pres . get Medication (). getNDCode ()); ▁ps . setDate ( 3, ▁new ▁java . sql . Date ( pres . getStartDate (). getTime ()) ); ▁ps . setDate ( 4, ▁new ▁java . sql . Date ( pres . getEndDate (). getTime ()) ); ▁ps . set Int (5, ▁pres . get Dosage ()); ▁ps . set String (6, ▁pres . get Instructions ()); ▁return ▁ps ; ▁} ▁}