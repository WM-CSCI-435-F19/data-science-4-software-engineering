▁<%@ tag lib ▁prefix =" itrust " ▁uri ="/ W EB - INF / tags . tld " ▁%> ▁<%@ page ▁error Page ="/ auth / exception Handler . jsp " ▁%> ▁<%@ page ▁import =" java . util . List "%> ▁<%@ page ▁import =" java . util . Map "%> ▁<%@ page ▁import =" java . text . SimpleDateFormat "%> ▁<%@ page ▁import =" java . util . Date "%> ▁<%@ page ▁import =" edu . nc su . cs c . itrust . EmailUtil "%> ▁<%@ page ▁import =" edu . nc su . cs c . itrust . beans . OfficeVisitBean "%> ▁<%@ page ▁import =" edu . nc su . cs c . itrust . beans . LabProcedureBean "%> ▁<%@ page ▁import =" edu . nc su . cs c . itrust . beans . LOINCbean "%> ▁<%@ page ▁import =" edu . nc su . cs c . itrust . dao . DAOFactory "%> ▁<%@ page ▁import =" edu . nc su . cs c . itrust . beans . DiagnosisBean "%> ▁<%@ page ▁import =" edu . nc su . cs c . itrust . beans . MedicationBean "%> ▁<%@ page ▁import =" edu . nc su . cs c . itrust . beans . ProcedureBean "%> ▁<%@ page ▁import =" edu . nc su . cs c . itrust . action . EditOfficeVisit Action "%> ▁<%@ page ▁import =" edu . nc su . cs c . itrust . beans . forms . EditOfficeVisit Form "%> ▁<%@ page ▁import =" edu . nc su . cs c . itrust . exception . iTrustException "%> ▁<%@ page ▁import =" edu . nc su . cs c . itrust . beans . HospitalBean "%> ▁<%@ page ▁import =" edu . nc su . cs c . itrust . BeanBuilder "%> ▁<%@ page ▁import =" edu . nc su . cs c . itrust . exception . FormValidat ionException "%> ▁<%@ page ▁import =" edu . nc su . cs c . itrust . beans . PersonnelBean "%> ▁<%@ page ▁import =" edu . nc su . cs c . itrust . dao . mysql . PersonnelDAO "%> ▁<%@ page ▁import =" edu . nc su . cs c . itrust . beans . PrescriptionBean "%> ▁<%@ include ▁file ="/ global . jsp " ▁%> ▁<% ▁pageTitle ▁= ▁" iTrust ▁- ▁ Document ▁Office ▁Visit "; ▁%> ▁<%@ include ▁file ="/ header . jsp " ▁%> ▁<% ▁String ▁ovIDString ▁= ▁request . getParameter (" ovID "); ▁String ▁pidString ▁= ▁( String ) session . get Attribute (" pid "); ▁if ▁( pidString ▁== ▁null ▁|| ▁1 ▁> ▁pidString . length ()) ▁{ ▁response . send Redirect ("/ iTrust / auth / getPatientID . jsp ? forward = hcp - uap / e ditOfficeVisit . jsp ? ovID =" ▁+ ▁ovIDString ); ▁return ; ▁} ▁// else ▁{ ▁// ▁session . remove Attribute (" pid "); ▁// } ▁EditOfficeVisit Action ▁action ▁= ▁new ▁EditOfficeVisit Action ( prodDAO , ▁loggedInMID , ▁pidString , ▁ovIDString ); ▁long ▁ovID ▁= ▁action . getOv ID (); ▁OfficeVisitBean ▁visit ▁= ▁action . getOfficeVisit (); ▁String ▁confirm ▁= ▁""; ▁String ▁warning ▁= ▁""; ▁if ▁( request . getParameter (" startDate ") ▁ != ▁null ▁&& ▁request . getParameter (" endDate ") ▁ != ▁null ){ ▁warning ▁= ▁action . has Interaction ( request . getParameter (" addMedID "), ▁pidString , ▁request . getParameter (" startDate "), ▁request . getParameter (" endDate ")); ▁} ▁warning ▁+= ▁action . is Allergy On List ( pidString , request . getParameter (" addMedID ")); ▁if ▁ (" true " . equals ( request . getParameter (" formIsFilled "))) ▁{ ▁EditOfficeVisit Form ▁form ▁= ▁new ▁ BeanBuilder < EditOfficeVisit Form > (). build ( request . getParameterMap (), ▁new ▁EditOfficeVisit Form ()); ▁if ▁ (" " . equals ( warning ) ▁|| ▁" true " . equals ( request . getParameter (" check Presc ")) ){ ▁if ▁ (" true " . equals ( request . getParameter (" check Presc ")) ){ ▁form . set A ddMedID ( request . getParameter (" test Med ")); ▁form . setStartDate ( request . getParameter (" medStart ")); ▁form . set Dosage ( request . getParameter (" medDos ")); ▁form . setEndDate ( request . getParameter (" medEnd ")); ▁form . set Instructions ( request . getParameter (" medInst ")); ▁String ▁problem ▁= ▁action . has Interaction ( request . getParameter (" test Med "), ▁pidString , ▁request . getParameter (" medStart "), ▁request . getParameter (" medEnd ")); ▁problem ▁+= ▁action . is Allergy On List ( pidString , request . getParameter (" test Med ")); ▁new ▁EmailUtil ( prodDAO ) . sendEmail ( action . makeEmail App ( loggedInMID , pidString , p ro ble m )); ▁} ▁form . setHcp ID (" " ▁+ ▁visit . getHcp ID ()); ▁form . set PatientID (" " ▁+ ▁visit . getPatientID ()); ▁try ▁{ ▁confirm ▁= ▁action . update Information ( form ); ▁} ▁catch ▁( FormValidat ionException ▁e ) ▁{ ▁e . print HTML ( pageContext . get Out ()); ▁confirm ▁= ▁" In put ▁not ▁valid "; ▁} ▁} ▁} ▁OfficeVisitBean ▁ov ▁= ▁action . getOfficeVisit (); ▁List < HospitalBean > ▁hcpHospitals ▁= ▁action . getHospitals ( ov . getHcp ID ()); ▁List ▁< LabProcedureBean > ▁ lpBeans ▁= ▁action . getLabProcedure s ( Long . parse Long ( pidString ) , ▁ovID ); ▁%> ▁< div ▁align = center > ▁<% ▁if ▁(!" " . equals ( confirm )) ▁{ ▁if ▁( request . getParameter (" check Presc "). equals (" false ")){ ▁%> ▁< span ▁class =" iTrustMessage "> Operation ▁ Cancel ed </ span > ▁<% ▁} ▁else ▁if ▁ (" success " . equals ( confirm )) ▁{ ▁%> ▁< span ▁class =" iTrustMessage "> Information ▁Successfully ▁Updated </ span > ▁<% ▁} ▁else ▁{ ▁%> ▁< span ▁class =" iTrust Error "><%= confirm %></ span > ▁<% ▁} ▁} ▁%> ▁</ div > ▁< script ▁type =" text / javascript "> ▁function ▁ removeID ( type , ▁value ) ▁{ ▁document . getElementById ( type ) . value ▁= ▁value ; ▁document . forms [0 ] . submit (); ▁} ▁function ▁set V ar ( ){ ▁var ▁medID ▁= ▁document . getElementById (" addMedID "); ▁var ▁ medIDindex ▁= ▁medID . option s . selected Index ; ▁var ▁medIDtxt ▁= ▁medID . option s [ medIDindex ] . value ; ▁var ▁medDostxt ▁= ▁document . getElementById (" dosage "). value ; ▁var ▁medStarttxt ▁= ▁document . getElementById (" startDate "). value ; ▁var ▁medEndtxt ▁= ▁document . getElementById (" endDate "). value ; ▁var ▁medInsttxt ▁= ▁document . getElementById (" instructions "). value ; ▁document . getElementById (" test Med "). value ▁= ▁medIDtxt ; ▁document . getElementById (" medDos "). value ▁= ▁medDostxt ; ▁document . getElementById (" medStart "). value ▁= ▁medStarttxt ; ▁document . getElementById (" medEnd "). value ▁= ▁medEndtxt ; ▁document . getElementById (" medInst "). value ▁= ▁medInsttxt ; ▁document . forms [0 ] . submit (); ▁} ▁function ▁pres C ont ( ){ ▁document . getElementById (" check Presc "). value ▁= ▁" true "; ▁document . forms [0 ] . submit (); ▁} ▁function ▁pres C a nc ( ){ ▁var ▁medID ▁= ▁document . getElementById (" addMedID "); ▁var ▁ medIDindex ▁= ▁medID . option s . selected Index ; ▁var ▁medIDtxt ▁= ▁medID . option s [ medIDindex ] . value ; ▁var ▁medDostxt ▁= ▁document . getElementById (" dosage "). value ; ▁var ▁medStarttxt ▁= ▁document . getElementById (" startDate "). value ; ▁var ▁medEndtxt ▁= ▁document . getElementById (" endDate "). value ; ▁var ▁medInsttxt ▁= ▁document . getElementById (" instructions "). value ; ▁document . getElementById (" test Med "). value ▁= ▁""; ▁document . getElementById (" medDos "). value ▁= ▁""; ▁document . getElementById (" medStart "). value ▁= ▁""; ▁document . getElementById (" medEnd "). value ▁= ▁""; ▁document . getElementById (" medInst "). value ▁= ▁""; ▁document . getElementById (" check Presc "). value ▁= ▁" false "; ▁document . forms [0 ] . submit (); ▁} ▁</ script > ▁< form ▁action =" e ditOfficeVisit . jsp " ▁method =" post " ▁id =" mainForm "> ▁< input ▁type =" hidden " ▁name =" formIsFilled " ▁value =" true " ▁/> ▁< input ▁type =" hidden " ▁name =" ovID " ▁value ="<%= ovID %>" ▁/> ▁< input ▁type =" hidden " ▁id =" removeDiagID " ▁name =" removeDiagID " ▁value =" " ▁/> ▁< input ▁type =" hidden " ▁id =" removeMedID " ▁name =" removeMedID " ▁value =" " ▁/> ▁< input ▁type =" hidden " ▁id =" removeProcID " ▁name =" removeProcID " ▁value =" " ▁/> ▁< input ▁type =" hidden " ▁id =" remove ImmunizationID " ▁name =" remove ImmunizationID " ▁value =" " ▁/> ▁< input ▁type =" hidden " ▁id =" removeLabProcID " ▁name =" removeLabProcID " ▁value =" " ▁/> ▁< input ▁type =" hidden " ▁id =" check Presc " ▁name =" check Presc " ▁value =" " ▁/> ▁< input ▁type =" hidden " ▁id =" test Med " ▁name =" test Med " ▁value =<%= request . getParameter (" test Med ") ▁%> ▁/> ▁< input ▁type =" hidden " ▁id =" medDos " ▁name =" medDos " ▁value =<%= request . getParameter (" medDos ") ▁%> ▁/> ▁< input ▁type =" hidden " ▁id =" medStart " ▁name =" medStart " ▁value =<%= request . getParameter (" medStart ") ▁%> ▁/> ▁< input ▁type =" hidden " ▁id =" medEnd " ▁name =" medEnd " ▁value =<%= request . getParameter (" medEnd ") ▁%> ▁/> ▁< input ▁type =" hidden " ▁id =" medInst " ▁name =" medInst " ▁value =<%= request . getParameter (" medInst ") ▁%> ▁/> ▁< div ▁align = center > ▁< table ▁class =" f Table " ▁align =" center "> ▁< tr > ▁< th ▁col span ="2"> Office ▁Visit </ th > ▁</ tr > ▁< tr > ▁< td ▁class =" subHeader V ertical "> Patient ▁ID :</ td > ▁< td ><%= prodDAO . get AuthDAO (). getUserName ( ov . getPatientID ())%> ▁</ td > ▁</ tr > ▁< tr > ▁< td ▁class =" subHeader V ertical "> Date ▁of ▁Visit :</ td > ▁< td >< input ▁name =" visitDate " ▁value ="<%= ov . getVisitDate Str ()%>" ▁/>< input ▁type =" button " ▁value =" Select ▁Date " ▁ onclick =" display DatePicker (' visitDate ');" ▁/></ td > ▁</ tr > ▁< tr > ▁< td ▁class =" subHeader V ertical "> Hospital :</ td > ▁< td >< select ▁name =" hospitalID "> ▁< option ▁value =""> N / A </ option > ▁<% for ( HospitalBean ▁ hos ▁: ▁hcpHospitals ) ▁{%> ▁< option ▁value ="<%= hos . get HospitalID ()%>" ▁<%= hos . get HospitalID (). equals ( ov . get HospitalID ()) ▁? ▁" selected = selected " ▁: ▁" "%> ▁> ▁<%= hos . get HospitalName ()%> ▁</ option > ▁<%} ▁%> ▁</ select > ▁</ td > ▁</ tr > ▁< tr > ▁< td ▁class =" subHeader V ertical "> Notes :</ td > ▁< td >< textarea ▁rows ="4" ▁ style =" width : ▁100%; " ▁name =" notes "><%= ov . get Notes ()%></ textarea ></ td > ▁</ tr > ▁</ table > ▁< br ▁/> ▁< input ▁type =" submit " ▁name =" update " ▁id =" update " ▁value =" Update " ▁> ▁</ div > ▁< br ▁/>< br ▁/> ▁< div ▁align = center > ▁< table ▁class =" f Table " ▁align =" center "> ▁< tr > ▁< th ▁col span ="6" > Prescriptions </ th > ▁</ tr > ▁< tr ▁class =" subHeader "> ▁< td > Medication </ td > ▁< td > Dosage </ td > ▁< td > Date s </ td > ▁< td ▁col span =2> Instructions </ td > ▁< td ▁ style =" width : ▁60 px ;"> Action </ td > ▁</ tr > ▁<% if ( ov . getPrescriptions (). size ()==0){ ▁%> ▁< tr > ▁< td ▁col span ="6" ▁ style =" text - align : ▁center ;"> No ▁ Prescriptions ▁on ▁record </ td > ▁</ tr > ▁<%} else { ▁%> ▁<% for ( PrescriptionBean ▁pres ▁: ▁ov . getPrescriptions ()){ ▁%> ▁< tr > ▁< td ▁align = center >< a ▁href =" . / editPrescription . jsp ? presID =<%= pres . get Id ()%>& ovID =<%= ovID String %>"><%= pres . get Medication (). get Description ()%> ▁(<%= pres . get Medication (). getNDCode ()%>)</ a ></ td > ▁< td ▁align = center ><%= pres . get Dosage ()%> mg </ td > ▁< td ▁align = center ><%= pres . getStartDate Str ()%> ▁to ▁<%= pres . getEndDate Str ()%></ td > ▁< td ▁align = center ▁col span =2 ><%= pres . get Instructions ()%></ td > ▁< td ▁align = center >< a ▁href =" javascript : removeID (' removeMedID ','<%= pres . get Id ()%> ');"> Remove </ a ></ td > ▁</ tr > ▁<%} ▁}%> ▁< tr > ▁< th ▁col span ="6" ▁ style =" text - align : ▁center ;"> Add ▁New </ th > ▁</ tr > ▁< tr > ▁< td ▁align = center > ▁< select ▁name =" addMedID " ▁id =" addMedID " ▁ style =" font - size :10 px ;"> ▁< option ▁value =""> ▁-- ▁P lease ▁Select ▁a ▁Medication ▁-- ▁</ option > ▁<% for ( MedicationBean ▁med ▁: ▁prodDAO . get NDCodesDAO (). getAll NDCodes () ){%> ▁< option ▁value ="<%= med . getNDCode ()%>"><%= med . getNDCode ()%> ▁- ▁<%= med . get Description ()%></ option > ▁ <%}%> ▁</ select > ▁</ td > ▁< td ▁align = center > ▁< input ▁type =" text " ▁name =" dosage " ▁id =" dosage " ▁maxlength ="6" ▁ style =" width : ▁50 px ;"> ▁mg ▁</ td > ▁< td ▁align = center ▁col span =2> ▁< input ▁type =" text " ▁name =" startDate " ▁id =" startDate " ▁ style =" width : ▁80 px ; " ▁ onclick =" display DatePicker (' startDate ');" ▁on select =" display DatePicker (' startDate ');" ▁value ="<%= new ▁ SimpleDateFormat (" MM / dd / yyyy "). format ( new ▁Date ())%> "> ▁to ▁< input ▁type =" text " ▁name =" endDate " ▁id =" endDate " ▁ style =" width : ▁80 px ; " ▁ onclick =" display DatePicker (' endDate ');" ▁on select =" display DatePicker (' endDate ');" ▁value ="<%= new ▁ SimpleDateFormat (" MM / dd / yyyy "). format ( new ▁Date ())%> "> ▁</ td > ▁< td ▁align = center > ▁< input ▁type =" text " ▁name =" instructions " ▁id =" instructions " ▁value =" -- ▁ Instructions ▁-- " ▁maxlength = 50 0 > ▁</ td > ▁< td > ▁< input ▁type =" button " ▁id =" add prescription " ▁ onclick =" set V ar () " ▁value =" Add ▁Prescription "> ▁</ td > ▁</ tr > ▁</ table > ▁<% ▁if ▁(! (" " . equals ( warning ) ▁ )){ ▁%> ▁< br / > ▁< div ▁ style =" back g round - color : y ell ow ; color : b l ack " ▁align =" center "><%= warning ▁%></ div > ▁< div ▁ style =" back g round - color : y ell ow " ▁align =" center ">< input ▁type =" button " ▁ onclick =" pres C ont () " ▁value =" Continue " ▁name =" continue " ▁id =" continue "/> ▁< input ▁type =" button " ▁ onclick =" location . h ref =' / iTrust / auth / hcp - uap / e ditPHR . jsp ' " ▁value =" Cancel " ▁name =" cancel " ▁id =" cancel "/> ▁</ div >< B R > ▁<%} ; ▁%> ▁</ div > ▁< br ▁/>< br ▁/> ▁< div ▁align = center > ▁< table ▁class =" f Table " ▁align =" center "> ▁< tr > ▁< th ▁col span ="5"> Laboratory ▁Procedures </ th > ▁</ tr > ▁< tr ▁class =" subHeader "> ▁< td > LOINC ▁Code </ td > ▁< td > Status </ td > ▁< td > Commentary </ td > ▁< td > Results </ td > ▁< td ▁ style =" width : ▁60 px ;"> Updated ▁Date </ td > ▁</ tr > ▁<% if ( lpBeans . size ()==0){ ▁%> ▁< tr > ▁< td ▁col span ="5" ▁ style =" text - align : ▁center ;"> No ▁Laboratory ▁Procedures ▁on ▁record </ td > ▁</ tr > ▁<%} ▁else ▁{ ▁%> ▁<% for ( LabProcedureBean ▁ labproc ▁: ▁ lpBeans ){ ▁%> ▁< tr > ▁< td ▁align = center ><%= labproc . getLo inc ()%></ td > ▁< td ▁align = center ><%= labproc . get Status ()%></ td > ▁< td ▁align = center ><%= labproc . get Commentary ()%></ td > ▁< td ▁align = center ><%= labproc . get Results ()%></ td > ▁< td ▁align = center ><%= labproc . get Timestamp ()%></ td > ▁< td ▁>< a ▁href =" javascript : removeID (' removeLabProcID ','<%= labproc . get ProcedureID ()%> ');"> Remove </ a ></ td > ▁</ tr > ▁<%} ▁%> ▁<%} ▁%> ▁< tr > ▁< th ▁col span ="5" ▁ style =" text - align : ▁center ;"> New </ th > ▁</ tr > ▁< tr > ▁< td ▁col span ="5" ▁align =" center "> ▁< select ▁name =" a ddLabProcID " ▁ style =" font - size : ▁10 px ;"> ▁< option ▁value =""> -- ▁P lease ▁Select ▁a ▁Procedure ▁ --</ option > ▁<% ▁for ( LOINCbean ▁loinc ▁: ▁prodDAO . get LOINCDAO (). getAll LOINC ()) ▁{ ▁%> ▁< option ▁value ="<%= loinc . get LabProcedureCode ()%>"> ▁<%= loinc . get LabProcedureCode ()%> ▁- ▁<%= loinc . get Component ()%> ▁- ▁<%= loinc . get KindOfProperty ()%> ▁- ▁<%= loinc . get TimeAspect ()%> ▁- ▁<%= loinc . get System ()%> ▁- ▁<%= loinc . get ScaleType ()%> ▁- ▁<%= loinc . get MethodType ()%></ option > ▁<% ▁} ▁%> ▁</ select > ▁< input ▁type =" submit " ▁name =" add LP " ▁value =" Add ▁Lab ▁Procedure " ▁> ▁</ td > ▁</ tr > ▁</ table > ▁</ div > ▁< br ▁/>< br ▁/> ▁< div ▁align = center > ▁< div ▁ style =" display : ▁inline - table ; ▁margin - right :10 px ;"> ▁< table ▁class =" f Table " ▁align =" center "> ▁< tr > ▁< th ▁col span ="3"> Diagnoses </ th > ▁</ tr > ▁< tr ▁class =" subHeader "> ▁< td > ICD ▁Code </ td > ▁< td > Description </ td > ▁< td ▁ style =" width : ▁60 px ;"> Action </ td > ▁</ tr > ▁<% if ( ov . getDiagnose s (). size ()==0){ ▁%> ▁< tr > ▁< td ▁col span ="3" ▁ style =" text - align : ▁center ;"> No ▁Diagnoses ▁on ▁record </ td > ▁</ tr > ▁<%} ▁else ▁{ ▁for ( DiagnosisBean ▁d ▁: ▁ov . getDiagnose s ()) ▁{ ▁%> ▁< tr > ▁< td ▁align = center ><%= d . getICDCode ()%></ td > ▁< td ▁><%= d . get Description ()%></ td > ▁< td ▁>< a ▁href =" javascript : removeID (' removeDiagID ','<%= d . getOv DiagnosisID ()%> ');"> Remove </ a ></ td > ▁</ tr > ▁<% ▁} ▁}%> ▁< tr > ▁< th ▁col span ="3" ▁ style =" text - align : ▁center ;"> New </ th > ▁</ tr > ▁< tr > ▁< td ▁col span ="3" ▁align = center >< select ▁name =" a ddDiagID " ▁ style =" font - size :10 "> ▁< option ▁value =""> -- ▁None ▁Select ed ▁ --</ option > ▁<% for ( DiagnosisBean ▁diag ▁: ▁prodDAO . get ICDCodesDAO (). getAll ICDCodes ()) ▁{ ▁%> ▁< option ▁value ="<%= diag . getICDCode ()%>"><%= diag . getICDCode ()%> ▁- ▁<%= diag . get Description ()%></ option > ▁ <%}%> ▁</ select > ▁< input ▁type =" submit " ▁value =" Add ▁ Diagnosis "> ▁</ td > ▁</ tr > ▁</ table > ▁</ div > ▁< div ▁ style =" display : ▁inline - table ; ▁margin - right :10 px ;"> ▁< table ▁class =" f Table " ▁align =" center "> ▁< tr > ▁< th ▁col span ="3"> Procedures </ th > ▁</ tr > ▁< tr ▁class =" subHeader "> ▁< td > CPT ▁Code </ td > ▁< td > Description </ td > ▁< td ▁ style =" width : ▁60 px ;"> Action </ td > ▁</ tr > ▁<% ▁if ▁(0 ▁== ▁ov . get Procedures (). size ()) ▁{ ▁%> ▁< tr > ▁< td ▁col span ="3" ▁ style =" text - align : ▁center ;"> No ▁Procedures ▁on ▁record </ td > ▁</ tr > ▁<% ▁} ▁else ▁{ ▁%> ▁<% ▁for ▁( ProcedureBean ▁proc ▁: ▁ov . get Procedures ()) ▁{ ▁if ▁( null ▁== ▁proc . get Attribute () ▁|| ▁! proc . get Attribute (). equals (" immunization ")) ▁{%> ▁< tr > ▁< td ▁align =" center "><%= proc . getCPTCode ()%></ td > ▁< td ▁><%= proc . get Description ()%></ td > ▁< td ▁>< a ▁href =" javascript : removeID (' removeProcID ','<%= proc . getOv ProcedureID ()%> ');"> Remove </ a ></ td > ▁</ tr > ▁<% ▁} ▁} ▁} ▁%> ▁< tr > ▁< th ▁col span ="3" ▁ style =" text - align : ▁center ;"> New </ th > ▁</ tr > ▁< tr > ▁< td ▁col span ="3" ▁align =" center "> ▁< select ▁name =" a ddProcID " ▁ style =" font - size : ▁10 px ;"> ▁< option ▁value =""> -- ▁P lease ▁Select ▁a ▁Procedure ▁ --</ option > ▁<% ▁for ▁( ProcedureBean ▁proc ▁: ▁prodDAO . get CPTCodesDAO (). getAll CPTCodes ()) ▁{ ▁if ▁( null ▁== ▁proc . get Attribute () ▁|| ▁! proc . get Attribute (). equals (" immunization ")) ▁{ ▁%> ▁< option ▁value ="<%= proc . getCPTCode () ▁%>"><%= proc . getCPTCode () ▁%> ▁- ▁<%= proc . get Description () ▁%></ option > ▁<% ▁} ▁} ▁%> ▁</ select > ▁< input ▁type =" submit " ▁name =" add P " ▁value =" Add ▁Procedure " ▁> ▁</ td > ▁</ tr > ▁</ table > ▁</ div > ▁< div ▁ style =" display : ▁inline - table ;"> ▁< table ▁class =" f Table " ▁align =" center "> ▁< tr > ▁< th ▁col span ="3"> Immunizations </ th > ▁</ tr > ▁< tr ▁class =" subHeader "> ▁< td > CPT ▁Code </ td > ▁< td > Description </ td > ▁< td ▁ style =" width : ▁60 px ;"> Action </ td > ▁</ tr > ▁<% ▁if ▁(0 ▁== ▁ov . get Procedures (). size ()) ▁{ ▁%> ▁< tr > ▁< td ▁col span ="3" ▁ style =" text - align : ▁center ;"> No ▁immunizations ▁on ▁record </ td > ▁</ tr > ▁<% ▁} ▁else ▁{ ▁%> ▁<% ▁for ▁( ProcedureBean ▁proc ▁: ▁ov . get Procedures ()) ▁{ ▁if ▁( null ▁ != ▁proc . get Attribute () ▁&& ▁proc . get Attribute (). equals (" immunization ")) ▁{ ▁%> ▁< tr > ▁< td ▁align =" center "><%= proc . getCPTCode ()%></ td > ▁< td ▁><%= proc . get Description ()%></ td > ▁< td ▁>< a ▁href =" javascript : removeID (' remove ImmunizationID ','<%= proc . getOv ProcedureID ()%> ');"> Remove </ a ></ td > ▁</ tr > ▁<% ▁} ▁} ▁} ▁%> ▁< tr ▁> ▁< th ▁col span ="3" ▁ style =" text - align : ▁center ;"> New </ th > ▁</ tr > ▁< tr > ▁< td ▁col span ="3" ▁align =" center "> ▁< select ▁name =" add ImmunizationID " ▁ style =" font - size : ▁10 px ;"> ▁< option ▁value =""> -- ▁P lease ▁Select ▁a ▁Procedure ▁ --</ option > ▁<% ▁for ▁( ProcedureBean ▁proc ▁: ▁prodDAO . get CPTCodesDAO (). get Immunization CPTCodes ()) ▁{%> ▁< option ▁value ="<%= proc . getCPTCode ()%>"><%= proc . getCPTCode ()%> ▁- ▁<%= proc . get Description ()%></ option > ▁<% ▁} ▁%> ▁</ select > ▁< input ▁type =" submit " ▁name =" add I m mu " ▁value =" Add ▁ Immunization " ▁> ▁</ td > ▁</ tr > ▁</ table > ▁</ div > ▁</ div > ▁< br ▁/>< br ▁/>< br ▁/> ▁< itrust : patient Nav ▁/> ▁< br ▁/> ▁</ form > ▁<%@ include ▁file ="/ f ooter . jsp " ▁%>