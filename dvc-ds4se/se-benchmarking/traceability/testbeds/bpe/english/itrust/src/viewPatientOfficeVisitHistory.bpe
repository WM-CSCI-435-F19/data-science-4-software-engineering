▁<%@ tag lib ▁uri ="/ W EB - INF / tags . tld " ▁prefix =" itrust "%> ▁<%@ page ▁error Page ="/ auth / exception Handler . jsp "%> ▁<%@ page ▁import =" java . util . ArrayList "%> ▁<%@ page ▁import =" java . util . List "%> ▁<%@ page ▁import =" edu . nc su . cs c . itrust . beans . PatientBean "%> ▁<%@ page ▁import =" edu . nc su . cs c . itrust . beans . PatientVisitBean "%> ▁<%@ page ▁import =" edu . nc su . cs c . itrust . action . View Patient OfficeVisit HistoryAction "%> ▁<%@ include ▁file ="/ global . jsp " ▁%> ▁<% ▁pageTitle ▁= ▁" iTrust ▁- ▁View ▁All ▁Patients "; ▁%> ▁<%@ include ▁file ="/ header . jsp " ▁%> ▁<% ▁View Patient OfficeVisit HistoryAction ▁action ▁= ▁new ▁View Patient OfficeVisit HistoryAction ( prodDAO , ▁loggedInMID . longValue ()); ▁List < PatientVisitBean > ▁patient Visit s ▁= ▁action . getPatient s (); ▁%> ▁< br ▁/> ▁< form ▁action =" view Report . jsp " ▁method =" post " ▁name =" my form "> ▁< table ▁class =" f Table " ▁align =" center "> ▁< tr > ▁< th ▁col span ="3"> P a st ▁Patients </ th > ▁</ tr > ▁< tr ▁class =" subHeader "> ▁< th > Patient </ th > ▁< th > Address </ th > ▁< th > Last ▁Visit </ th > ▁</ tr > ▁<% ▁List < PatientBean > ▁patients ▁= ▁new ▁ArrayList < PatientBean > (); ▁int ▁index ▁= ▁0; ▁for ▁( PatientVisitBean ▁bean ▁: ▁patient Visit s ) ▁{ ▁patients . add ( bean . getPatient ()); ▁%> ▁< tr > ▁< td ▁> ▁< a ▁href =" e ditPHR . jsp ? patient =<%= index %>"> ▁<%= bean . get PatientName ()%> ▁</ a > ▁</ td > ▁< td ▁><%= bean . get Address 1() ▁+" ▁" ▁+ bean . get Address 2 ()%></ td > ▁< td ▁><%= bean . get LastOVDateM () ▁+" / " ▁+ bean . get LastOVDateD () ▁+" / " ▁+ bean . get LastOVDateY ()%></ td > ▁</ tr > ▁<% ▁index ▁++; ▁} ▁session . set Attribute (" patients ", ▁patients ); ▁%> ▁</ table > ▁</ form > ▁< br ▁/> ▁< br ▁/> ▁<%@ include ▁file ="/ f ooter . jsp " ▁%>