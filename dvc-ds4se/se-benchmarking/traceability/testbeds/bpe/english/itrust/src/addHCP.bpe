▁<%@ tag lib ▁prefix =" itrust " ▁uri ="/ W EB - INF / tags . tld "%> ▁<%@ page ▁error Page ="/ auth / exception Handler . jsp "%> ▁<%@ page ▁import =" edu . nc su . cs c . itrust . beans . PersonnelBean "%> ▁<%@ page ▁import =" edu . nc su . cs c . itrust . BeanBuilder "%> ▁<%@ page ▁import =" edu . nc su . cs c . itrust . exception . FormValidat ionException "%> ▁<%@ page ▁import =" edu . nc su . cs c . itrust . action . Add HCP Action "%> ▁<%@ page ▁import =" edu . nc su . cs c . itrust . enums . Role "%> ▁<%@ include ▁file ="/ global . jsp " ▁%> ▁<% ▁pageTitle ▁= ▁" iTrust ▁- ▁Add ▁HCP "; ▁%> ▁<%@ include ▁file ="/ header . jsp " ▁%> ▁<% ▁boolean ▁ formIsFilled ▁= ▁request . getParameter (" formIsFilled ") ▁ != ▁null ▁&& ▁request . getParameter (" formIsFilled "). equals (" true "); ▁if ▁( formIsFilled ) ▁{ ▁// This ▁page ▁is ▁not ▁ actually ▁a ▁" page ", ▁it ▁just ▁add s ▁a ▁user ▁and ▁forward s . ▁PersonnelBean ▁p ▁= ▁new ▁ BeanBuilder < PersonnelBean > (). build ( request . getParameterMap (), ▁new ▁PersonnelBean ()); ▁p . set Role ( Role . HCP ); ▁try { ▁long ▁newMID ▁= ▁new ▁AddHCPAction ( prodDAO , ▁loggedInMID . longValue ()). add ( p ); ▁session . set Attribute (" mid ", ▁Long . to String ( newMID )); ▁String ▁fullname ; ▁String ▁password ; ▁password ▁= ▁p . get Password (); ▁fullname ▁= ▁p . getF ullName (); ▁%> ▁< div ▁align = center > ▁< span ▁class =" iTrustMessage "> New ▁HCP ▁<%= fullname %> ▁succes fully ▁added !</ span > ▁< br ▁/> ▁< br ▁/> ▁< table ▁class =" f Table "> ▁< tr > ▁< th ▁col span =2> New ▁HCP ▁Information </ th > ▁</ tr > ▁< tr > ▁< td ▁class =" subHeader V ertical "> MID :</ td > ▁< td ><%= newMID %></ td > ▁</ tr > ▁< tr > ▁< td ▁class =" subHeader V ertical "> Temp or ary ▁Password :</ td > ▁< td ><%= password %></ td > ▁</ tr > ▁</ table > ▁< br ▁/> P lease ▁get ▁this ▁information ▁to ▁< b ><%= fullname %></ b > ! ▁< p > ▁< a ▁href ▁= ▁" / iTrust / auth / staff / editPersonnel . jsp "> Continue ▁to ▁personnel ▁information . </ a > ▁</ p > ▁</ div > ▁<% ▁} ▁catch ( FormValidat ionException ▁e ){ ▁%> ▁< div ▁align = center > ▁< span ▁class =" iTrust Error "><%= e . getMessage () ▁%></ span > ▁</ div > ▁<% ▁} ▁} ▁%> ▁< div ▁align = center > ▁< p ▁ style =" width : ▁ 50% ; ▁text - align : left ;"> P lease ▁enter ▁in ▁the ▁name ▁of ▁the ▁new ▁HCP , ▁with ▁a ▁valid ▁email ▁address . ▁If ▁the ▁user ▁does ▁not ▁have ▁an ▁email ▁address , ▁use ▁the ▁hospital ' s ▁email ▁address , ▁[ insert ▁pre - defined ▁email ] , ▁to ▁reco ver ▁the ▁password . </ p > ▁< form ▁action =" add HCP . jsp " ▁method =" post "> ▁< input ▁type =" hidden " ▁name =" formIsFilled " ▁value =" true ">< br ▁/> ▁< table ▁class =" f Table "> ▁< tr > ▁< th ▁col span =2> UAP ▁Information </ th > ▁</ tr > ▁< tr > ▁< td ▁class =" subHeader V ertical "> First ▁name :</ td > ▁< td >< input ▁type =" text " ▁name =" firstName "></ td > ▁</ tr > ▁< tr > ▁< td ▁class =" subHeader V ertical "> Last ▁Name :</ td > ▁< td >< input ▁type =" text " ▁name =" lastName "> ▁</ tr > ▁< tr > ▁< td ▁class =" subHeader V ertical "> Email :</ td > ▁< td >< input ▁type =" text " ▁name =" email "></ td > ▁</ tr > ▁</ table > ▁< br ▁/> ▁< input ▁type =" submit " ▁ style =" font - size : ▁16 pt ; ▁ font - weight : ▁bold ; " ▁value =" Add ▁personnel "> ▁< br ▁/> ▁</ form > ▁</ div > ▁<%@ include ▁file ="/ f ooter . jsp " ▁%>