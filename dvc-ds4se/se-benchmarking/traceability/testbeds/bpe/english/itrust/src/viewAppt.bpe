▁<%@ page ▁error Page ="/ auth / exception Handler . jsp "%> ▁<%@ page ▁import =" java . util . Date "%> ▁<%@ page ▁import =" java . text . DateFormat "%> ▁<%@ page ▁import =" java . text . SimpleDateFormat "%> ▁<%@ page ▁import =" edu . nc su . cs c . itrust . action . Edit ApptTypeAction "%> ▁<%@ page ▁import =" edu . nc su . cs c . itrust . action . V iewMyApptsAction "%> ▁<%@ page ▁import =" edu . nc su . cs c . itrust . beans . ApptBean "%> ▁<%@ page ▁import =" java . util . List "%> ▁<%@ include ▁file ="/ global . jsp " ▁%> ▁<% ▁pageTitle ▁= ▁" iTrust ▁- ▁View ▁Message "; ▁%> ▁<%@ include ▁file ="/ header . jsp " ▁%> ▁<% ▁View MyApptsAction ▁action ▁= ▁new ▁View MyApptsAction ( prodDAO , ▁loggedInMID . longValue ()); ▁Edit ApptTypeAction ▁types ▁= ▁new ▁Edit ApptTypeAction ( prodDAO , ▁loggedInMID . longValue ()); ▁ApptBean ▁original ▁= ▁null ; ▁if ▁( request . getParameter (" apt ") ▁ != ▁null ) ▁{ ▁String ▁ aptParameter ▁= ▁request . getParameter (" apt "); ▁int ▁ aptIndex ▁= ▁0; ▁try ▁{ ▁ aptIndex ▁= ▁Integer . parse Int ( aptParameter ); ▁} ▁catch ▁( NumberFormat Exception ▁ nfe ) ▁{ ▁response . send Redirect (" v iewMyAppts . jsp "); ▁} ▁List < ApptBean > ▁appts ▁= ▁null ; ▁if ▁( session . get Attribute (" appts ") ▁ != ▁null ) ▁{ ▁appts ▁= ▁( List < ApptBean > ) ▁session . get Attribute (" appts "); ▁if ( aptIndex ▁> ▁appts . size () ▁|| ▁ aptIndex ▁< ▁0) ▁{ ▁ aptIndex ▁= ▁0; ▁response . send Redirect (" oop s . jsp "); ▁} ▁} ▁else ▁{ ▁response . send Redirect (" v iewMyAppts . jsp "); ▁} ▁original ▁= ▁( ApptBean ) appts . get ( aptIndex ); ▁} ▁else ▁{ ▁response . send Redirect (" v iewMyAppts . jsp "); ▁} ▁Date ▁d ▁= ▁new ▁Date ( original . getDate (). getTime ()); ▁DateFormat ▁format ▁= ▁new ▁ SimpleDateFormat (" MM / dd / yyyy ▁ hh : mm ▁a "); ▁%> ▁< div > ▁< table ▁width ="100 %" ▁ style =" back g round - color : ▁# D DDDDD ;"> ▁< tr > ▁< th > Appointment ▁Info </ th > ▁</ tr > ▁< tr > ▁< td >< b > Patient :</ b > ▁<%= ▁action . getName ( original . getHcp ()) ▁%></ td > ▁</ tr > ▁< tr > ▁< td >< b > Type :</ b > ▁<%= ▁original . getApptType () ▁%></ td > ▁</ tr > ▁< tr > ▁< td >< b > Date / Time :</ b > ▁<%= ▁format . format ( d ) ▁%></ td > ▁</ tr > ▁< tr > ▁< td >< b > Duration :</ b > ▁<%= ▁types . getDuration By Type ( original . getApptType () )+" ▁minutes " ▁%></ td > ▁</ tr > ▁</ table > ▁</ div > ▁< table > ▁< tr > ▁< td ▁col span ="2">< b > Comment s :</ b ></ td > ▁</ tr > ▁< tr > ▁< td ▁col span ="2" ><%= ▁( original . getComment ()== ▁null )?" No ▁Comment " : original . getComment () ▁%></ td > ▁</ tr > ▁</ table > ▁<%@ include ▁file ="/ f ooter . jsp " ▁%>