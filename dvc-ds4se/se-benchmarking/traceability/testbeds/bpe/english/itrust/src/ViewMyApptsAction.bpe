▁p ackage ▁edu . nc su . cs c . itrust . action ; ▁import ▁java . sql . SQLException ; ▁import ▁java . util . List ; ▁import ▁edu . nc su . cs c . itrust . beans . ApptBean ; ▁import ▁edu . nc su . cs c . itrust . dao . DAOFactory ; ▁import ▁edu . nc su . cs c . itrust . dao . mysql . ApptDAO ; ▁import ▁edu . nc su . cs c . itrust . dao . mysql . PatientDAO ; ▁import ▁edu . nc su . cs c . itrust . dao . mysql . PersonnelDAO ; ▁import ▁edu . nc su . cs c . itrust . exception . iTrustException ; ▁public ▁class ▁View MyApptsAction ▁{ ▁private ▁long ▁loggedInMID ; ▁private ▁ApptDAO ▁apptDAO ; ▁private ▁PatientDAO ▁patientDAO ; ▁private ▁PersonnelDAO ▁personnelDAO ; ▁public ▁View MyApptsAction ( DAOFactory ▁factory , ▁long ▁loggedInMID ) ▁{ ▁this . loggedInMID ▁= ▁loggedInMID ; ▁this . appt DAO ▁= ▁factory . get ApptDAO (); ▁this . patientDAO ▁= ▁factory . get PatientDAO (); ▁this . personnelDAO ▁= ▁factory . get PersonnelDAO (); ▁} ▁public ▁List < ApptBean > ▁ getMy Appointments () ▁throw s ▁SQLException ▁{ ▁return ▁apptDAO . getAppts For ( loggedInMID ); ▁} ▁/** ▁* ▁Get s ▁a ▁user s ' s ▁name ▁from ▁the ir ▁MID ▁* ▁* ▁@ param ▁mid ▁the ▁MID ▁of ▁the ▁user ▁* ▁@ return ▁the ▁user ' s ▁name ▁* ▁@ throw s ▁iTrustException ▁*/ ▁public ▁String ▁getName ( long ▁mid ) ▁throw s ▁iTrustException ▁{ ▁if ( mid ▁< ▁ 700000000 0 L ) ▁return ▁patientDAO . getName ( mid ); ▁else ▁return ▁personnelDAO . getName ( mid ); ▁} ▁/** ▁* ▁Get ▁All ▁Appointments ▁for ▁the ▁admin s ▁use . . . ▁ma y ▁need ▁to ▁change ! ▁* ▁@ return ▁* ▁@ throw s ▁SQLException ▁*/ ▁public ▁List < ApptBean > ▁getAll Appts () ▁throw s ▁SQLException ▁{ ▁return ▁apptDAO . getAll Appts (); ▁} ▁}