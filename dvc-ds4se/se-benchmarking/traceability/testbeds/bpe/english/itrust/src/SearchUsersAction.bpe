▁p ackage ▁edu . nc su . cs c . itrust . action ; ▁import ▁java . util . List ; ▁import ▁edu . nc su . cs c . itrust . beans . PatientBean ; ▁import ▁edu . nc su . cs c . itrust . beans . PersonnelBean ; ▁import ▁edu . nc su . cs c . itrust . dao . DAOFactory ; ▁import ▁edu . nc su . cs c . itrust . dao . mysql . PatientDAO ; ▁import ▁edu . nc su . cs c . itrust . dao . mysql . PersonnelDAO ; ▁import ▁edu . nc su . cs c . itrust . exception . DBException ; ▁public ▁class ▁S earchUsersAction ▁{ ▁private ▁PatientDAO ▁patientDAO ; ▁private ▁PersonnelDAO ▁personnelDAO ; ▁/** ▁* ▁Set ▁up ▁defaults ▁* ▁* ▁@ param ▁factory ▁The ▁DAOFactory ▁used ▁to ▁create ▁the ▁DAOs ▁used ▁in ▁this ▁action . ▁* ▁@ param ▁loggedInMID ▁The ▁MID ▁of ▁the ▁user ▁who ▁is ▁perform ing ▁the ▁search . ▁*/ ▁public ▁S earchUsersAction ( DAOFactory ▁factory , ▁long ▁loggedInMID ) ▁{ ▁this . patientDAO ▁= ▁factory . get PatientDAO (); ▁this . personnelDAO ▁= ▁factory . get PersonnelDAO (); ▁} ▁/** ▁* ▁Search es ▁for ▁all ▁personnel ▁with ▁the ▁first ▁name ▁and ▁last ▁name ▁specified ▁in ▁the ▁parameter ▁list . ▁* ▁@ param ▁firstName ▁The ▁first ▁name ▁to ▁be ▁searched . ▁* ▁@ param ▁lastName ▁The ▁last ▁name ▁to ▁be ▁searched . ▁* ▁@ return ▁A ▁java . util . List ▁of ▁PersonnelBean s ▁for ▁the ▁user s ▁who ▁matched . ▁*/ ▁public ▁List < PersonnelBean > ▁ searchFor Personnel With Name ( String ▁firstName , ▁String ▁lastName ) ▁{ ▁try ▁{ ▁if (" " . equals ( firstName )) ▁firstName ▁= ▁"%" ; ▁if (" " . equals ( lastName )) ▁lastName ▁= ▁"%" ; ▁return ▁personnelDAO . searchFor Personnel With Name ( firstName , ▁lastName ); ▁} ▁catch ▁( DBException ▁e ) ▁{ ▁System . out . print ln (" D B ▁Exception ▁from ▁S earchUsersAction "); ▁e . print Stack T race (); ▁return ▁null ; ▁} ▁} ▁/** ▁* ▁Search ▁for ▁all ▁patients ▁with ▁first ▁name ▁and ▁last ▁name ▁given ▁in ▁parameters . ▁* ▁@ param ▁firstName ▁The ▁first ▁name ▁of ▁the ▁patient ▁being ▁searched . ▁* ▁@ param ▁lastName ▁The ▁last ▁name ▁of ▁the ▁patient ▁being ▁searched . ▁* ▁@ return ▁A ▁java . util . List ▁of ▁PatientBeans ▁*/ ▁public ▁List < PatientBean > ▁ searchFor Patient sWith Name ( String ▁firstName , ▁String ▁lastName ) ▁{ ▁try ▁{ ▁if (" " . equals ( firstName )) ▁firstName ▁= ▁"%" ; ▁if (" " . equals ( lastName )) ▁lastName ▁= ▁"%" ; ▁return ▁patientDAO . searchFor Patient sWith Name ( firstName , ▁lastName ); ▁} ▁catch ▁( DBException ▁e ) ▁{ ▁System . out . print ln (" D B ▁Exception ▁from ▁S earchUsersAction "); ▁e . print Stack T race (); ▁return ▁null ; ▁} ▁} ▁}