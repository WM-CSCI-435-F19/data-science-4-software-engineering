▁<%@ include ▁file ="/ global . jsp " ▁%> ▁<%@ page ▁import =" java . util . List " ▁%> ▁<%@ page ▁import =" edu . nc su . cs c . itrust . action . S earchUsersAction " ▁%> ▁<%@ page ▁import =" edu . nc su . cs c . itrust . beans . PersonnelBean " ▁%> ▁<% ▁pageTitle ▁= ▁" iTrust ▁- ▁P lease ▁Select ▁a ▁Personnel "; ▁%> ▁<%@ include ▁file ="/ header . jsp " ▁%> ▁< h 1> P lease ▁Select ▁a ▁Personnel </ h 1> ▁<% ▁String ▁mid ▁= ▁request . getParameter (" UID _ PERSONNELID "); ▁session . set Attribute (" mid ", ▁mid ); ▁if ▁( null ▁ != ▁mid ▁&& ▁! " " . equals ( mid )) ▁{ ▁response . send Redirect ( request . getParameter (" forward ")); ▁} ▁String ▁firstName ▁= ▁request . getParameter (" FIRST _ NAME "); ▁String ▁lastName ▁= ▁request . getParameter (" LAST _ NAME "); ▁if ( firstName ▁== ▁null ) ▁firstName ▁= ▁""; ▁if ( lastName ▁== ▁null ) ▁lastName ▁= ▁""; ▁%> ▁< table > ▁< form ▁method =" post "> ▁< input ▁type =" hidden " ▁name =" forward " ▁value ="<%= request . getParameter (" forward ") ▁%>"> ▁< tr > ▁< td >< b > Personnel :</ b ></ td > ▁< td ▁ style =" width : ▁150 px ; ▁border : ▁1 px ▁solid ▁Gra y ;"> ▁< input ▁name =" UID _ PERSONNELID " ▁value =" " ▁type =" hidden "> ▁< input ▁id =" NAME _ PERSONNELID " ▁name =" NAME _ PERSONNELID " ▁type =" text " ▁value =" Select ▁a ▁User " ▁readonly / > ▁</ td > ▁< td > ▁<%@ include ▁file ="/ util / getUserFrame . jsp " ▁%> ▁< input ▁type =" button " ▁ onclick =" getUser (' PERSONNELID ');" ▁value =" Find ▁User " ▁> ▁</ td > ▁</ tr > ▁< tr > ▁< td ▁align = center ▁col span =2> < input ▁type =" submit " ▁value =" Select ▁Personnel "></ td > ▁</ tr > ▁</ form > ▁< tr > ▁</ tr > ▁< form ▁id =" user Search Form " ▁action =" getPersonnelID . jsp ? forward =<%= ▁request . getParameter (" forward ") ▁%>" ▁method =" post "> ▁< tr > ▁< td >< b > First ▁Name :</ b ></ td > ▁< td ▁ style =" width : ▁150 px ; ▁border : ▁1 px ▁solid ▁Gra y ;"> ▁< input ▁name =" FIRST _ NAME " ▁type =" text " ▁value ="<%= ▁firstName ▁%>" ▁/> ▁</ td > ▁</ tr > ▁< tr > ▁< td >< b > Last ▁Name :</ b ></ td > ▁< td ▁ style =" width : ▁150 px ; ▁border : ▁1 px ▁solid ▁Gra y ;"> ▁< input ▁name =" LAST _ NAME " ▁type =" text " ▁value ="<%= ▁lastName ▁%>" ▁/> ▁</ td > ▁</ tr > ▁< tr > ▁< td ▁align =" center " ▁col span ="2"> ▁< input ▁type =" submit " ▁value =" User ▁Search " ▁/> ▁</ td > ▁</ tr > ▁</ form > ▁</ table > ▁<% ▁if ( ▁(!" " . equals ( firstName )) ▁|| ▁(!" " . equals ( lastName ) )){ ▁S earchUsersAction ▁searchAction ▁= ▁new ▁S earchUsersAction ( prodDAO , loggedInMID . longValue ()); ▁out . print ln (" Search ing ▁for ▁user s ▁name d ▁" ▁+ ▁firstName ▁+ ▁" ▁" ▁+ ▁lastName ▁+ ▁"< br ▁/> "); ▁List < PersonnelBean > ▁personnel ▁= ▁searchAction . searchFor Personnel With Name ( firstName , lastName ); ▁out . print ln (" Found ▁" ▁+ ▁personnel . size () ▁+ ▁" ▁Records ▁< br ▁/> "); ▁out . print ln ("< table ▁border =' 1 px ' >< tr >< td ▁width =' 17 5 px '> MID </ td >< td ▁width =' 250 px '> First ▁Name </ td >< td ▁width =' 250 px '> Last ▁Name </ td ></ tr >"); ▁for ( PersonnelBean ▁p ▁: ▁personnel ){ ▁%> ▁< form ▁action =" getPersonnelID . jsp ? forward =<%= ▁request . getParameter (" forward ") ▁%>" ▁method =" post "> ▁< input ▁type =" hidden " ▁name =" UID _ PERSONNELID " ▁value ="<%= ▁p . get MID () ▁%>" ▁/> ▁<% ▁out . print ln ("< tr >< td >< input ▁type =' submit ' ▁width =' 100% ' ▁value =' " ▁+ ▁p . get MID () ▁+ ▁" ' ▁/></ form ></ td >< td > " ▁+ ▁p . get FirstName () ▁+ ▁"</ td >< td > " ▁+ ▁p . get LastName () ▁+ ▁"</ td ></ tr >"); ▁} ▁out . print ln (" </ table >"); ▁} ▁%> ▁<%@ include ▁file ="/ f ooter . jsp " ▁%>