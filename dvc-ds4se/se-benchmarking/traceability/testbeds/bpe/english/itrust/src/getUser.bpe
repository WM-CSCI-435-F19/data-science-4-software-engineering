▁<%@ ▁page ▁import =" java . net . URLEncoder " ▁%> ▁<%@ page ▁import =" edu . nc su . cs c . itrust . dao . DAOFactory "%> ▁<%@ page ▁import =" edu . nc su . cs c . itrust . action . Get UserNameAction "%> ▁<%@ page ▁import =" edu . nc su . cs c . itrust . exception . iTrustException "%> ▁< html > ▁< head > ▁< title > iTrust ▁- ▁Find ▁User </ title > ▁< style ▁type =" text / css "> ▁ . getUser Body ▁{ ▁back g round - color : ▁Whit e ; ▁border : ▁solid ▁2 px ▁# 376 09 f ; ▁margin : ▁0 px ; ▁color : ▁# 376 09 f ; ▁white - space : ▁nowrap ; ▁width : ▁4 4 6 px ; ▁height : ▁14 6 px ; ▁overflow : ▁ hidden ; ▁} ▁ . getUser T i tle ▁{ ▁width : ▁100%; ▁text - align : ▁center ; ▁back g round - color :# 11 2 13 b ; ▁color : ▁Whit e ; ▁ font - weight : ▁bold ; ▁ font - size : ▁11 pt ; ▁padding : ▁2 px ▁0 px ▁2 px ▁0 px ; ▁} ▁ . getUser T i tle Close ▁{ ▁float : ▁right ; ▁display : ▁block ; ▁ position : ▁absolute ; ▁to p : ▁4 px ; ▁left : ▁4 10 px ; ▁} ▁ . getUserCloseLink ▁{ ▁ font - size : ▁12 px ; ▁color : ▁Re d ; ▁} ▁ . getUserCloseLink : h over ▁{ ▁text - deco ration : ▁none ; ▁color : ▁Whit e ; ▁} ▁ . get UserSearchButton ▁{ ▁color : ▁Whit e ; ▁ font - weight : ▁bold ; ▁width : ▁ 18 0 px ; ▁back g round - color : ▁# 11 2 13 b ; ▁border : ▁solid ▁2 px ▁# 376 09 f ; ▁} ▁ . get UserSearchButton : h over ▁{ ▁back g round - color : ▁# 4 45 4 6 e ; ▁} ▁ . getUserName ▁{ ▁ font - size : ▁14 pt ; ▁color : ▁ Bl ack ; ▁ font - weight : ▁bold ; ▁} ▁ . getUserCorrect ▁{ ▁border : ▁1 px ▁solid ▁# 66 ff 66 ; ▁back g round - color : ▁# ee ffee ; ▁color : ▁# 11 a a 11 ; ▁ font - weight : ▁bold ; ▁} ▁ . getUserCorrect : h over ▁{ ▁border : ▁1 px ▁solid ▁# 4 4 ee 4 4 ; ▁back g round - color : ▁# b b ff b b ; ▁} ▁ . getUserIncorrect ▁{ ▁border : ▁1 px ▁solid ▁# ff 6666; ▁back g round - color : ▁# ffee ee ; ▁color : ▁# a a 11 11 ; ▁ font - weight : ▁bold ; ▁} ▁ . getUserIncorrect : h over ▁{ ▁border : ▁1 px ▁solid ▁# ee 4 4 4 4 ; ▁back g round - color : ▁# ff b b b b ; ▁} ▁ . result Table ▁ tr ▁ td ▁{ ▁padding : ▁0 px ▁3 px ▁0 px ▁3 px ; ▁} ▁</ style > ▁</ head > ▁< body ▁class =" getUser Body "> ▁< div ▁class =" getUser T i tle "> ▁iTrust ▁User ▁Search ▁< div ▁class =" getUser T i tle Close ">< a ▁class =" getUserCloseLink " ▁href =" javascript : void (0); " ▁ onclick =" parent . getUser Close (); "> Close </ a ></ div > ▁</ div > ▁< form ▁method =" post "> ▁<% ▁String ▁mid ▁= ▁request . getParameter (" mid "); ▁String ▁ param S ▁= ▁request . getParameter (" s "); ▁if ( mid ▁ != ▁null ▁&& ▁mid . tr im () ▁ != ▁" ") ▁{ ▁try ▁{ ▁String ▁ userName ▁= ▁new ▁Get UserNameAction ( DAOFactory . getPr oductionInstance ()). getUserName ( mid ); ▁String ▁action ▁= ▁""; ▁if ( param S ▁ != ▁null ) ▁action ▁= ▁" parent . set User (' " ▁+ ▁ param S ▁+" ',' " ▁+ ▁mid ▁+ ▁" ',' " ▁+ ▁ userName ▁+ ▁" ');" ; ▁%> ▁< table ▁align =" center "> ▁< tr > ▁< td ▁ style =" text - align : ▁center ; ▁white - space : ▁nowrap ;"> ▁Found ▁User : ▁< span ▁class =" getUserName ">< br ▁/> <%= userName %></ span >< br ▁/>< br ▁/> ▁P lease ▁confirm ▁that ▁this ▁is ▁the ▁user ▁you ▁wish ▁to ▁select . < br ▁/>< br ▁ style =" line - height : ▁6 px ; " ▁/> ▁< input ▁type =" button " ▁name =" correct " ▁value =" This ▁user ▁is ▁correct " ▁class =" getUserCorrect " ▁ onclick ="<%= action ▁%>" ▁/> ▁< input ▁type =" submit " ▁name =" in correct " ▁value =" Find ▁another ▁user " ▁class =" getUserIncorrect " ▁/> & nb sp ; & nb sp ; & nb sp ; ▁</ td > ▁</ tr > ▁</ table > ▁<% ▁} ▁catch ▁( iTrustException ▁e ) ▁{ ▁response . send Redirect (" getUser . jsp ? s =" ▁+ ▁ param S ▁+ ▁"& error =" ▁+ ▁ URLEncoder . encode ( e . getMessage (), " UTF -8") ▁ ); ▁} ▁} ▁else ▁{ ▁%> ▁< table ▁align =" center "> ▁< tr > ▁< td ▁col span ="2" ▁ style =" text - align : ▁center ; ▁padding - bottom : ▁10 px ;"> ▁< b > P lease ▁enter ▁a ▁User ▁ID ▁to ▁search ▁for . </ b > ▁</ td > ▁</ tr > ▁< tr > ▁< td ▁ style =" text - align : ▁right ; ▁ font - weight : ▁bold ; ▁color : ▁black ;"> User ▁ID ▁( MID ) :</ td > ▁< td >< input ▁name =" mid " ▁maxlength ="10" ▁type =" text " ▁auto comp le te =" off " ▁/></ td > ▁</ tr > ▁< tr > ▁< td ▁col span ="2" ▁ style =" text - align : ▁center ; ▁padding - top : ▁2 px ;"> ▁< input ▁type =" submit " ▁value =" Search ▁for ▁User " ▁class =" get UserSearchButton "> ▁</ td > ▁</ tr > ▁<% ▁if ( mid ▁== ▁" ") ▁{ ▁%> ▁< tr > ▁< td ▁col span ="2" ▁ style =" text - align : ▁center ; ▁ font - weight : ▁bold ; ▁color : ▁Re d ;"> ▁P lease ▁enter ▁an ▁MID ▁</ td > ▁</ tr > ▁<% ▁} ▁else ▁if ( request . getParameter (" error ") ▁ != ▁null ) ▁{ ▁%> ▁< tr > ▁< td ▁col span ="2" ▁ style =" text - align : ▁center ; ▁ font - weight : ▁bold ; ▁color : ▁Re d ;"> ▁<%= request . getParameter (" error ") ▁%> ▁</ td > ▁</ tr > ▁<% ▁} ▁%> ▁</ table > ▁<% ▁}%> ▁</ form > ▁</ body > ▁</ html >