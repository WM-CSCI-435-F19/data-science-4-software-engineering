▁<%@ tag lib ▁uri ="/ W EB - INF / tags . tld " ▁prefix =" itrust "%> ▁<%@ page ▁error Page ="/ auth / exception Handler . jsp "%> ▁<%@ page ▁import =" java . util . List "%> ▁<%@ page ▁import =" edu . nc su . cs c . itrust . action . View PrescriptionRe newalNeedsAction "%> ▁<%@ page ▁import =" edu . nc su . cs c . itrust . beans . PatientBean " ▁%> ▁<%@ page ▁import =" edu . nc su . cs c . itrust . beans . PrescriptionBean " ▁%> ▁<%@ page ▁import =" edu . nc su . cs c . itrust . beans . PersonnelBean " ▁%> ▁<%@ page ▁import =" edu . nc su . cs c . itrust . dao . mysql . PatientDAO " ▁%> ▁<%@ page ▁import =" edu . nc su . cs c . itrust . dao . mysql . PersonnelDAO " ▁%> ▁<%@ include ▁file ="/ global . jsp "%> ▁<% ▁pageTitle ▁= ▁" iTrust ▁- ▁My ▁Patients ▁with ▁P o t ent ial ▁Prescription - Re new al ▁Need s "; ▁%> ▁<%@ include ▁file ="/ header . jsp "%> ▁<% ▁PersonnelBean ▁self ▁= ▁new ▁PersonnelDAO ( prodDAO ) . getPersonnel ( loggedInMID ); ▁View PrescriptionRe newalNeedsAction ▁expAction ▁= ▁new ▁View PrescriptionRe newalNeedsAction ( prodDAO , ▁loggedInMID . longValue ()); ▁// List < PersonnelBean > ▁personnelList ▁= ▁prodDAO . get PersonnelDAO (). getAll Personnel (); ▁// session . set Attribute (" personnelList ", ▁personnelList ); ▁%> ▁< div ▁align =" center "> ▁< br ▁/> ▁< table ▁class =" f Table "> ▁<% ▁List < PatientBean > ▁patients ▁= ▁expAction . get RenewalNeeds Patients (); ▁// patients ▁= ▁new ▁PatientDAO ( prodDAO ) . getAll Patients (); ▁// ▁ Temp or ary ▁test ▁if ▁( patients . size () ▁== ▁0) ▁{ ▁%> ▁< tr > ▁< td ▁col span =4> ▁< i > No ▁patients ▁have ▁renewal ▁needs . </ i > ▁</ td > ▁</ tr > ▁<% ▁} ▁else ▁{ ▁%> ▁< tr > ▁< th ▁col span = 4 ><%= ▁self . getF ullName () ▁%></ th > ▁</ tr > ▁< tr ▁class =" subHeader "> ▁< td > Patient ▁Name </ td > ▁< td > Phone ▁Number </ td > ▁< td > Email ▁Address </ td > ▁</ tr > ▁<% ▁for ▁( PatientBean ▁patient ▁: ▁patients ) ▁{ ▁// PersonnelBean ▁doctor ▁= ▁expAction . get Prescribing Doctor ( prescription ); ▁%> ▁< tr > ▁< td ▁>< a ▁href =' sendEmail Notification . jsp ? mid =<%= patient . get MID ()%>' ><%= patient . getF ullName () ▁%></ a ></ td > ▁< td ▁><%= patient . getPhone () ▁%></ td > ▁< td ▁><%= patient . getEmail () ▁%></ td > ▁</ tr > ▁<% ▁} ▁} ▁%> ▁</ table > ▁< br ▁/> ▁</ div > ▁<%@ include ▁file ="/ f ooter . jsp "%>