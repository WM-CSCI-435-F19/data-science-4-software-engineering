▁<%@ page ▁error Page ="/ auth / exception Handler . jsp " ▁%> ▁<%@ page ▁import =" java . util . List "%> ▁<%@ page ▁import =" edu . nc su . cs c . itrust . dao . DAOFactory "%> ▁<%@ page ▁import =" edu . nc su . cs c . itrust . beans . LOINCbean "%> ▁<% -- @ page ▁import =" edu . nc su . cs c . itrust . action . UpdateLabProc ListAction " -- %> ▁<%@ page ▁import =" edu . nc su . cs c . itrust . action . Update LOINCListAction "%> ▁<%@ page ▁import =" edu . nc su . cs c . itrust . exception . FormValidat ionException "%> ▁<%@ include ▁file ="/ global . jsp " ▁%> ▁<% ▁pageTitle ▁= ▁" iTrust ▁- ▁M aintain ▁LOINC ▁Codes "; ▁%> ▁<%@ include ▁file ="/ header . jsp " ▁%> ▁<% ▁String ▁headerMessage ▁= ▁" Viewing ▁Current ▁LOINC ▁Codes "; ▁/* UpdateLabProc ListAction ▁icdUpdater ▁= ▁new ▁ UpdateLabProc ListAction ( prodDAO , ▁loggedInMID . longValue ()); */ ▁Update LOINCListAction ▁icdUpdater ▁= ▁new ▁Update LOINCListAction ( prodDAO , ▁loggedInMID . longValue ()); ▁if ▁( request . getParameter (" add ") ▁ != ▁null ▁|| ▁request . getParameter (" update ") ▁ != ▁null ) ▁{ ▁try ▁{ ▁LOINCbean ▁diag ▁= ▁new ▁LOINCbean (); ▁diag . set LabProcedureCode ( request . getParameter (" code ")); ▁diag . set Component ( request . getParameter (" comp ")); ▁diag . set KindOfProperty ( request . getParameter (" kop ")); ▁diag . set TimeAspect ( request . getParameter (" time ")); ▁diag . set System ( request . getParameter (" system ")); ▁diag . set ScaleType ( request . getParameter (" scale ")); ▁diag . set MethodType ( request . getParameter (" method ")); ▁headerMessage ▁= ▁( request . getParameter (" add ") ▁ != ▁null ) ▁? ▁icdUpdater . add ( diag ) ▁: ▁icdUpdater . update Information ( diag ); ▁} ▁catch ( FormValidat ionException ▁e ) ▁{ ▁%> ▁< div ▁align = center > ▁< span ▁class =" iTrust Error "><%= e . getMessage () ▁%></ span > ▁</ div > ▁<% ▁headerMessage ▁= ▁" Validation ▁Errors "; ▁} ▁} ▁String ▁header Color ▁= ▁( headerMessage . index Of (" Error ") ▁> ▁-1) ▁? ▁"# ffc ccc " ▁: ▁"#00 C CCC "; ▁%> ▁< div ▁align = center > ▁< form ▁name =" mainForm " ▁method =" post "> ▁< input ▁type =" hidden " ▁id =" update ID " ▁name =" update ID " ▁value =""> ▁< input ▁type =" hidden " ▁id =" ol dDescrip " ▁name =" ol dDescrip " ▁value =""> ▁< script ▁type =" text / javascript "> ▁function ▁fillUpdate ( comp ) ▁{ ▁document . getElementById (" code "). value ▁= ▁comp ; ▁} ▁function ▁fillUpdate 2 ( comp ) ▁{ ▁document . getElementById (" comp "). value ▁= ▁comp ; ▁} ▁function ▁fillUpdate 3 ( comp ) ▁{ ▁document . getElementById (" kop "). value ▁= ▁comp ; ▁} ▁function ▁fillUpdate 4 ( comp ) ▁{ ▁document . getElementById (" time "). value ▁= ▁comp ; ▁} ▁function ▁fillUpdate 5 ( comp ) ▁{ ▁document . getElementById (" system "). value ▁= ▁comp ; ▁} ▁function ▁fillUpdate 6 ( comp ) ▁{ ▁document . getElementById (" scale "). value ▁= ▁comp ; ▁} ▁function ▁fillUpdate 7 ( comp ) ▁{ ▁document . getElementById (" method "). value ▁= ▁comp ; ▁} ▁</ script > ▁< br ▁/> ▁< span ▁class =" iTrustMessage "><%= headerMessage ▁%></ span > ▁< br ▁/> ▁< br ▁/> ▁< table ▁class =" f Table " ▁align =" center "> ▁< tr > ▁< th ▁col span ="4"> Update ▁LOINC ▁Code ▁List </ th > ▁</ tr > ▁< tr ▁class =" subHeader "> ▁< th ▁col span = 3 ▁> Code </ th > ▁</ tr > ▁< tr > ▁< td ▁align =" center " ▁col span =3> ▁< input ▁type =" text " ▁name =" code " ▁id =" code " ▁size ="7" ▁maxlength ="7" ▁/> ▁</ td > ▁</ tr > ▁< tr ▁class =" subHeader "> ▁< th > Component </ th > ▁< th > Kind ▁ Of ▁Property </ th > ▁< th > Time ▁A sp e ct </ th > ▁</ tr > ▁< tr > ▁< td >< input ▁type =" text " ▁name =" comp " ▁id =" comp " ▁size ="40" ▁maxlength ="100 " ▁/></ td > ▁< td >< input ▁type =" text " ▁name =" kop " ▁id =" kop " ▁size ="40" ▁maxlength ="100 " ▁/></ td > ▁< td >< input ▁type =" text " ▁name =" time " ▁id =" time " ▁size ="40" ▁maxlength ="100 " ▁/></ td > ▁</ tr > ▁< tr ▁class =" subHeader "> ▁< th > System </ th > ▁< th > S cal e ▁Type </ th > ▁< th > Method ▁Type </ th > ▁</ tr > ▁< tr > ▁< td >< input ▁type =" text " ▁name =" system " ▁id =" system " ▁size ="40" ▁maxlength ="100 " ▁/></ td > ▁< td >< input ▁type =" text " ▁name =" scale " ▁id =" scale " ▁size ="40" ▁maxlength ="100 " ▁/></ td > ▁< td >< input ▁type =" text " ▁name =" method " ▁id =" method " ▁size ="40" ▁maxlength ="100 " ▁/></ td > ▁</ tr > ▁</ table > ▁< span ▁ style =" font - size : 14 px ;"> NOT E : ▁When ▁updating , ▁p lease ▁enter ▁original ▁information ▁in ▁fields ▁you ▁do ▁not ▁want ▁to ▁change </ span > ▁< br ▁/> ▁< br ▁/> ▁< input ▁type =" submit " ▁name =" add " ▁value =" Add ▁Code " ▁/> ▁< input ▁type =" submit " ▁name =" update " ▁value =" Update ▁Code " ▁/> ▁< br ▁/> ▁< br ▁/> ▁< table ▁class =" f Table " ▁align =" center "> ▁< tr > ▁< th ▁col span ="7" > Current ▁LOINC ▁Codes </ th > ▁</ tr > ▁< tr ▁class =" subHeader "> ▁< td > Code </ td > ▁< td > Component </ td > ▁< td > Kind ▁ Of ▁Property </ td > ▁< td > Time ▁A sp e ct </ td > ▁< td > System </ td > ▁< td > S cal e ▁Type </ td > ▁< td > Method ▁Type </ td > ▁</ tr > ▁<% ▁List < LOINCbean > ▁codeList ▁= ▁prodDAO . get LOINCDAO (). getAll LOINC (); ▁String ▁tempCode ▁= ▁""; ▁String ▁ tempcomp ▁= ▁""; ▁String ▁ tempkop ▁= ▁""; ▁String ▁ temptime ▁= ▁""; ▁String ▁ tempsystem =" "; ▁String ▁ tempscale ▁= ▁""; ▁String ▁ tempmethod =" "; ▁for ▁( LOINCbean ▁codeEntry ▁: ▁codeList ) ▁{ ▁tempCode ▁= ▁codeEntry . get LabProcedureCode (); ▁ tempcomp ▁= ▁codeEntry . get Component (); ▁ tempkop ▁= ▁codeEntry . get KindOfProperty (); ▁ temptime ▁= ▁codeEntry . get TimeAspect (); ▁ tempsystem ▁= ▁codeEntry . get System (); ▁ tempscale ▁= ▁codeEntry . get ScaleType (); ▁ tempmethod ▁= ▁codeEntry . get MethodType (); ▁%> ▁< tr > ▁< td ▁>< a ▁href =" javascript : void (0)" ▁ onclick =" fillUpdate ('<%= tempCode %>')"><%= tempCode %></ a > ▁< td ▁>< a ▁href =" javascript : void (0)" ▁ onclick =" fillUpdate 2 ('<%= tempcomp %>')"><%= tempcomp %></ a > ▁< td ▁>< a ▁href =" javascript : void (0)" ▁ onclick =" fillUpdate 3 ('<%= tempkop %>')"><%= tempkop %></ a > ▁< td ▁>< a ▁href =" javascript : void (0)" ▁ onclick =" fillUpdate 4 ('<%= temptime %>')"><%= temptime %></ a > ▁< td ▁>< a ▁href =" javascript : void (0)" ▁ onclick =" fillUpdate 5 ('<%= tempsystem %>')"><%= tempsystem %></ a > ▁< td ▁nowrap >< a ▁href =" javascript : void (0)" ▁ onclick =" fillUpdate 6 ('<%= tempscale %>')"><%= tempscale %></ a > ▁< td ▁nowrap >< a ▁href =" javascript : void (0)" ▁ onclick =" fillUpdate 7 ('<%= tempmethod %>')"><%= tempmethod %></ a > ▁</ tr > ▁<% ▁} ▁%> ▁</ table > ▁</ form > ▁</ div > ▁< br ▁/> ▁<%@ include ▁file ="/ f ooter . jsp " ▁%>