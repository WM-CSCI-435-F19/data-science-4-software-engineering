▁<%@ page ▁error Page ="/ auth / exception Handler . jsp " ▁%> ▁<%@ page ▁import =" edu . nc su . cs c . itrust . dao . DAOFactory "%> ▁<%@ page ▁import =" edu . nc su . cs c . itrust . beans . ApptTypeBean "%> ▁<%@ page ▁import =" edu . nc su . cs c . itrust . action . Edit ApptTypeAction "%> ▁<%@ page ▁import =" edu . nc su . cs c . itrust . exception . FormValidat ionException "%> ▁<%@ page ▁import =" edu . nc su . cs c . itrust . HtmlEncoder "%> ▁<%@ page ▁import =" java . net . URLEncoder " ▁%> ▁<%@ page ▁import =" java . util . List "%> ▁<%@ include ▁file ="/ global . jsp " ▁%> ▁<% ▁pageTitle ▁= ▁" iTrust ▁- ▁M aintain ▁Appointment ▁Types "; ▁%> ▁<%@ include ▁file ="/ header . jsp " ▁%> ▁<% ▁String ▁headerMessage ▁= ▁" Viewing ▁Current ▁Appointment ▁Types "; ▁Edit ApptTypeAction ▁atEditor ▁= ▁new ▁Edit ApptTypeAction ( prodDAO , ▁loggedInMID . longValue ()); ▁if ▁( request . getParameter (" add ") ▁ != ▁null ▁|| ▁request . getParameter (" update ") ▁ != ▁null ) ▁{ ▁try ▁{ ▁if ( request . getParameter (" name "). equals ("") ▁|| ▁request . getParameter (" duration "). equals ("")) ▁headerMessage ▁= ▁" P lease ▁fill ▁in ▁all ▁fields . "; ▁else ▁{ ▁ApptTypeBean ▁apptType ▁= ▁new ▁ApptTypeBean ( request . getParameter (" name "), ▁Integer . parse Int ( request . getParameter (" duration ")) ); ▁headerMessage ▁= ▁( request . getParameter (" add ") ▁ != ▁null ) ▁? ▁atEditor . add ApptType ( apptType ) ▁: ▁atEditor . editApptType ( apptType ); ▁} ▁} ▁catch ( FormValidat ionException ▁e ) ▁{ ▁%> ▁< div ▁align = center > ▁< span ▁class =" iTrust Error "><%= e . getMessage () ▁%></ span > ▁</ div > ▁<% ▁headerMessage ▁= ▁" Validation ▁Errors "; ▁} ▁} ▁String ▁header Color ▁= ▁( headerMessage . index Of (" Error ") ▁> ▁-1) ▁? ▁"# ffc ccc " ▁: ▁"#00 C CCC "; ▁%> ▁< script ▁type =" text / javascript "> ▁function ▁fillUpdate ( name ) ▁{ ▁document . getElementById (" name "). value ▁= ▁name ; ▁document . getElementById (" duration "). value ▁= ▁un escape ( document . getElementById ( name ) . value ); ▁} ▁</ script > ▁< div ▁align =" center "> ▁< br ▁/> ▁< span ▁class =" iTrustMessage "><%= headerMessage ▁%></ span > ▁< br ▁/> ▁< br ▁/> ▁< form ▁name =" mainForm " ▁action =" editApptType . jsp " ▁id =" mainForm " ▁method =" post "> ▁< table ▁class =" f Table " ▁align =" center "> ▁< tr > ▁< td ▁col span ="3"> Update ▁Appointment ▁Type ▁List </ td > ▁</ tr > ▁< tr ▁class =" subHeader "> ▁< td > Name </ td > ▁< td > Duration </ td > ▁</ tr > ▁< tr > ▁< td >< input ▁type =" text " ▁name =" name " ▁id =" name " ▁size =" 30 " ▁maxlength =" 30 " ▁/></ td > ▁< td >< input ▁type =" text " ▁name =" duration " ▁id =" duration " ▁size ="5" ▁maxlength ="5" ▁/></ td > ▁</ tr > ▁</ table > ▁< input ▁type =" submit " ▁name =" add " ▁id =" add " ▁value =" Add ▁Type " ▁/> ▁< input ▁type =" submit " ▁name =" update " ▁id =" update " ▁value =" Update ▁Type " ▁/> ▁< br ▁/> ▁< br ▁/> ▁< table ▁class =" f Table " ▁align =" center "> ▁< tr > ▁< th ▁col span ="3"> Current ▁Appointment ▁Types </ th > ▁</ tr > ▁< tr ▁class =" subHeader "> ▁< td > Name </ td > ▁< td > Duration </ td > ▁</ tr > ▁<% ▁List < ApptTypeBean > ▁type List ▁= ▁prodDAO . get ApptTypeDAO (). getApptType s (); ▁int ▁ tempDuration ▁= ▁0; ▁String ▁ tempName ▁= ▁""; ▁for ▁( ApptTypeBean ▁apptEntry ▁: ▁type List ) ▁{ ▁ tempDuration ▁= ▁apptEntry . getDuration (); ▁ tempName ▁= ▁apptEntry . getName (); ▁%> ▁< tr > ▁< td >< a ▁href =" javascript : void (0)" ▁ onclick =" fillUpdate ('<%= tempName ▁ %>')"><%= tempName ▁%></ a > ▁< input ▁type =" hidden " ▁id ="<%= tempName %>" ▁name ="<%= tempName %>" ▁value ="<%= tempDuration %>" ▁/> ▁</ td > ▁< td ><%= tempDuration ▁%></ td > ▁</ tr > ▁<% ▁} ▁%> ▁</ table > ▁</ form > ▁</ div > ▁< br ▁/> ▁<%@ include ▁file ="/ f ooter . jsp " ▁%>