▁ ï»¿ / ▁** ▁* ▁Implement ing ▁the ▁management ▁dell ' advertisement ▁* ▁For ▁the ▁operator ▁agency . ▁Contain s ▁methods ▁for ▁managing ▁* ▁News . ▁* ▁* ▁@ ▁Auth or ▁F abio ▁P all adin o ▁* ▁@ ▁Version ▁0.1 ▁* ▁* ▁ 2007 ▁eTour ▁Pro ject ▁- ▁C opy right ▁by ▁SE ▁@ ▁ SA ▁Lab ▁DMI ▁University ▁of ▁Salerno ▁* ▁/ ▁p ackage ▁unisa . gps . etour . control . Gestione Advertisement ; ▁import ▁java . rmi . RemoteException ; ▁import ▁java . sql . SQLException ; ▁import ▁java . util . ArrayList ; ▁import ▁unisa . gps . etour . bean . BeanNews ; ▁/ ▁* ▁Import ▁the ▁stub ▁* ▁/ ▁/ ▁/ ▁import ▁unisa . gps . etour . control . Gestione Advertisement . test . stubs . DBNews ; ▁import ▁unisa . gps . etour . repository . DBNews ; ▁import ▁unisa . gps . etour . repository . IDBNews ; ▁import ▁unisa . gps . etour . util . ControlloDati ; ▁import ▁unisa . gps . etour . util . CostantiGlobali ; ▁import ▁unisa . gps . etour . util . MessaggiErrore ; ▁p ublic ▁class ▁ GestioneAdve rtisementAgenzia ▁ext ends ▁Gestione Advertisement ▁implements ▁IGestioneAdve rtisementAgenzia ▁( ▁priv ate ▁static ▁final ▁long ▁s erial Version UID ▁= ▁1 L ; ▁/ ▁** ▁Contain s ▁the ▁methods ▁for ▁collec ting ▁news ▁in ▁the ▁database ▁* ▁/ ▁Pr ivate ▁IDBNews ▁dbNews ; ▁/ ▁** ▁* ▁Constructor . ▁Instantiate s ▁an ▁object ▁of ▁type ▁( @ ▁link ▁unisa . gps . etour . repository . DBNews ) . ▁* ▁* ▁@ ▁Throw s ▁RemoteException ▁* ▁/ ▁p ublic ▁ GestioneAdve rtisementAgenzia ▁() ▁throws ▁RemoteException ▁( ▁super ▁(); ▁dbNews ▁= ▁new ▁ DBNews ▁(); ▁) ▁/ ▁** ▁* ▁Method ▁which ▁remove s ▁news ▁from ▁the ▁database . ▁Use s ▁the ▁* ▁( @ ▁ Link ▁Boolean ▁unisa . gps . etour . repository . IDBNews ▁# ▁cancella News ▁( int )) ▁* ▁* ▁@ ▁Param ▁id ▁pNewsID ▁news ▁be ▁erased . ▁* ▁@ ▁Return ▁true ▁if ▁the ▁cancellation ▁was ▁successful ▁or ▁F AL SE ▁otherwise . ▁* ▁@ ▁Throw s ▁RemoteException ▁* ▁* ▁/ ▁p ublic ▁boolean ▁cancella News ▁( int ▁pNewsID ) ▁throws ▁RemoteException ▁( ▁TR Y ▁( ▁/ ▁* ▁Check ▁that ▁the ▁ID ▁is ▁valid ▁* ▁/ ▁if ▁( pNewsID > ▁0) ▁( ▁return ▁( dbNews . cancella News ▁( pNewsID )); ▁) ▁else ▁( ▁return ▁false ; ▁) ▁) ▁C atch ▁( SQLException ▁e ) ▁( ▁throw ▁new ▁RemoteException ▁( MessaggiErrore . ERRORE _ CONNE SSION E _ DBMS ); ▁) ▁) ▁/ ▁** ▁* ▁Insert ▁a ▁new ▁news ▁in ▁the ▁database . ▁* ▁Use ▁the ▁method ▁( @ ▁link ▁unisa . gps . etour . repository . IDBNews ▁# ▁inserisci News ▁( BeanNews )) ▁* ▁To ▁insert ▁the ▁news ▁and ▁the ▁method ▁( @ ▁link ▁unisa . gps . etour . repository . IDBNews ▁# ▁ottieni News ▁()) ▁* ▁To ▁count ▁the ▁number ▁of ▁news ▁in ▁the ▁system . ▁* ▁* ▁@ ▁Param ▁Pnews ▁bean ▁containing ▁data ▁news . ▁* ▁@ ▁Return ▁true ▁if ▁the ▁insertion ▁is ▁successful , ▁false ▁if ▁it ▁was ▁* ▁Re a ched ▁the ▁maximum ▁number ▁of ▁news ▁stored ▁or ▁if ▁the ▁insertion ▁fail s . ▁* ▁@ ▁Throw s ▁RemoteException ▁* ▁/ ▁p ublic ▁boolean ▁inserisci News ▁( BeanNews ▁Pnews ) ▁throws ▁RemoteException ▁( ▁TR Y ▁( ▁/ ▁* ▁Check ▁the ▁data ▁of ▁the ▁news ▁* ▁/ ▁if ▁(! ▁ControlloDati . check BeanNews ▁( Pnews )) ▁( ▁throw ▁new ▁RemoteException ▁( MessaggiErrore . ERRORE _ DATI ); ▁) ▁/ ▁* ▁Check ▁that ▁has ▁not ▁be en ▁exceeded ▁the ▁no . ▁Max ▁news ▁pre set s ▁* ▁/ ▁int ▁num News ▁= ▁dbNews . ottieni News ▁() . ▁ size ▁(); ▁if ▁( num News ▁< CostantiGlobali . MA X _ NEWS _ ATTIVE ) ▁( ▁/ ▁* ▁Pos sible ▁inclusion ▁* ▁/ ▁return ▁( dbNews . inserisci News ▁( Pnews )); ▁) ▁else ▁( ▁/ ▁* ▁Insert ion ▁is ▁not ▁pos sible ▁* ▁/ ▁return ▁false ; ▁) ▁) ▁C atch ▁( SQLException ▁e ) ▁( ▁throw ▁new ▁RemoteException ▁( MessaggiErrore . ERRORE _ CONNE SSION E _ DBMS ); ▁) ▁) ▁/ ▁** ▁* ▁Method ▁to ▁change ▁data ▁of ▁a ▁news . ▁* ▁Use ▁the ▁method ▁( @ ▁link ▁unisa . gps . etour . repository . IDBNews ▁# ▁modifica News ▁( BeanNews )). ▁* ▁* ▁@ ▁Param ▁Pnews ▁bean ▁containing ▁the ▁data ▁of ▁news ▁changed . ▁* ▁@ ▁Return ▁true ▁if ▁the ▁change ▁go es ▁through . ▁* ▁@ ▁Throw s ▁RemoteException ▁* ▁/ ▁p ublic ▁boolean ▁modifica News ▁( BeanNews ▁Pnews ) ▁throws ▁RemoteException ▁( ▁TR Y ▁( ▁/ ▁* ▁Check ▁the ▁data ▁of ▁the ▁news ▁* ▁/ ▁if ▁(! ▁ControlloDati . check BeanNews ▁( Pnews )) ▁( ▁throw ▁new ▁RemoteException ▁( MessaggiErrore . ERRORE _ DATI ); ▁) ▁return ▁( dbNews . modifica News ▁( Pnews )); ▁) ▁C atch ▁( SQLException ▁e ) ▁( ▁throw ▁new ▁RemoteException ▁( MessaggiErrore . ERRORE _ CONNE SSION E _ DBMS ); ▁) ▁) ▁/ ▁** ▁* ▁Method ▁that ▁returns ▁an ▁array ▁containing ▁all ▁the ▁news ▁stored ▁in ▁the ▁system . ▁* ▁Use ▁the ▁method ▁( @ ▁link ▁unisa . gps . etour . repository . IDBNews ▁# ▁ottieni News ▁()) . ▁* ▁* ▁@ ▁Return ▁ArrayList ▁containing ▁beans ▁of ▁news . ▁* ▁@ ▁Throw s ▁RemoteException ▁* ▁/ ▁< BeanNews > ▁ottieni All News ▁p ublic ▁ArrayList ▁() ▁throws ▁RemoteException ▁( ▁TR Y ▁( ▁return ▁( dbNews . ottieni News ▁()); ▁) ▁C atch ▁( SQLException ▁e ) ▁( ▁throw ▁new ▁RemoteException ▁( MessaggiErrore . ERRORE _ CONNE SSION E _ DBMS ); ▁) ▁) ▁)