▁ ï»¿ p ackage ▁unisa . gps . etour . control . GestioneTag ; ▁import ▁java . rmi . RemoteException ; ▁import ▁java . rmi . server . Uni castRemoteObject ; ▁import ▁java . sql . SQLException ; ▁import ▁java . util . ArrayList ; ▁import ▁unisa . gps . etour . bean . BeanTag ; ▁/ ▁* ▁* ▁For ▁import ed ▁text ▁unisa . gps . etour . control . GestioneTag . test . stub . DBTag ; ▁* ▁/ ▁import ▁unisa . gps . etour . repository . DBTag ; ▁import ▁unisa . gps . etour . repository . IDBTag ; ▁import ▁unisa . gps . etour . util . MessaggiErrore ; ▁/ ▁** ▁* ▁Class ▁that ▁implements ▁the ▁common ▁task s ▁for ▁the ▁use ▁of ▁tags ▁* ▁* ▁@ ▁Auth or ▁J os eph ▁Mo relli ▁* ▁@ ▁Version ▁0.1 ▁ 2007 ▁eTour ▁Pro ject ▁- ▁C opy right ▁by ▁SE ▁@ ▁ SA ▁Lab ▁DMI ▁University ▁* ▁Of ▁Salerno ▁* ▁/ ▁Gestione TagComune ▁Uni castRemoteObject ▁p ublic ▁class ▁ext ends ▁implements ▁IGestione TagComune ▁( ▁priv ate ▁static ▁final ▁long ▁s erial Version UID ▁= ▁1 L ; ▁/ ▁/ ▁Object ▁for ▁the ▁database ▁connection ▁p rot ected ▁IDBTag ▁tags ; ▁p ublic ▁Gestione TagComune ▁() ▁throws ▁RemoteException ▁( ▁super ▁(); ▁/ ▁/ ▁Connect ▁to ▁the ▁Database ▁TR Y ▁( ▁tag ▁= ▁new ▁ DBTag ▁(); ▁) ▁ catch ▁( Exception ▁e ) ▁( ▁throw ▁new ▁RemoteException ▁( MessaggiErrore . ERRORE _ SCONOSCIUTO ); ▁) ▁) ▁/ ▁/ ▁Method ▁that ▁returns ▁all ▁tags ▁< BeanTag > ▁ottieniTags ▁p ublic ▁ArrayList ▁() ▁throws ▁RemoteException ▁( ▁/ ▁/ ▁ArrayList ▁to ▁fill ▁with ▁the ▁tags ▁to ▁return ▁ArrayList ▁< BeanTag > ▁toReturn ; ▁/ ▁/ ▁Re trieve ▁data ▁from ▁Database ▁TR Y ▁( ▁/ ▁/ ▁Get ▁the ▁information ▁from ▁the ▁Database ▁toReturn ▁= ▁tag . ottieniLista Tag ▁(); ▁) ▁/ ▁/ ▁Exception ▁in ▁the ▁execut ion ▁of ▁database ▁operations ▁ catch ▁( SQLException ▁e ) ▁( ▁System . out ▁ . ▁System . out . println ▁( ▁" Error ▁in ▁method ▁ottieniTags :" ▁+ ▁e . toString ▁()); ▁throw ▁new ▁RemoteException ▁( MessaggiErrore . ERRORE _ DBMS ); ▁) ▁/ ▁/ ▁U nexpected ▁exceptions ▁ca used ▁by ▁other ▁fa ctors ▁ catch ▁( Exception ▁ee ) ▁( ▁System . out . println ▁( ▁" Error ▁in ▁method ▁ottieniTags " ▁E e . toString ▁+ ▁()); ▁throw ▁new ▁RemoteException ▁( MessaggiErrore . ERRORE _ SCONOSCIUTO ); ▁) ▁/ ▁/ ▁Check ▁the ▁data ▁back ▁in ▁order ▁not ▁to ▁return ▁null ▁values ▁/ ▁/ ▁Call er ▁if ▁( null ▁== ▁toReturn ) ▁throw ▁new ▁RemoteException ▁( MessaggiErrore . ERRORE _ FORMAT O _ BEAN ); ▁toReturn ▁return ; ▁) ▁)