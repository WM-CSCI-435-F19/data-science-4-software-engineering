▁ ï»¿ p ackage ▁unisa . gps . etour . control . GestioneTag ; ▁import ▁java . rmi . RemoteException ; ▁import ▁java . sql . SQLException ; ▁import ▁unisa . gps . etour . bean . BeanTag ; ▁import ▁unisa . gps . etour . util . MessaggiErrore ; ▁/ ▁** ▁* ▁Class ▁that ▁implements ▁the ▁methods ▁for ▁the ▁functionality ▁of ▁the ▁Operator ▁Agency ▁* ▁E xtend ing ▁the ▁class ▁of ▁common ▁Tag ▁Management ▁* ▁* ▁@ ▁Auth or ▁J os eph ▁Mo relli ▁* ▁@ ▁Version ▁0.1 ▁ 2007 ▁eTour ▁Pro ject ▁- ▁C opy right ▁by ▁SE ▁@ ▁ SA ▁Lab ▁DMI ▁University ▁* ▁Of ▁Salerno ▁* ▁/ ▁p ublic ▁class ▁GestioneTag OperatoreAgenzia ▁ext ends ▁Gestione TagComune ▁implements ▁IGestioneTag OperatoreAgenzia ▁( ▁priv ate ▁static ▁final ▁long ▁s erial Version UID ▁= ▁1 L ; ▁p ublic ▁GestioneTag OperatoreAgenzia ▁() ▁throws ▁RemoteException ▁( ▁/ ▁/ ▁ Invoke ▁the ▁constructor ▁of ▁the ▁superclass ▁for ▁communicat ion ▁with ▁/ ▁/ ▁Database ▁super ▁(); ▁) ▁/ ▁/ ▁Method ▁to ▁delete ▁from ▁database ▁the ▁tag ▁whose ▁ID ▁is ▁passed ▁/ ▁/ ▁As ▁parameter ▁p ublic ▁boolean ▁cancellaTag ▁( int ▁pTagID ) ▁throws ▁RemoteException ▁( ▁/ ▁/ ▁Check ▁the ▁val i se ▁of ▁past ▁data ▁if ▁( ( pTagID ▁<= ▁0)) ▁throw ▁new ▁RemoteException ▁( MessaggiErrore . ERRORE _ DATI ); ▁TR Y ▁( ▁/ ▁/ ▁Make ▁the ▁database ▁operation ▁tag . cancellaTag ▁( pTagID ); ▁return ▁true ; ▁) ▁/ ▁/ ▁Exception ▁in ▁the ▁execut ion ▁of ▁database ▁operations ▁ catch ▁( SQLException ▁e ) ▁( ▁System . out ▁ . ▁System . out . println ▁( ▁" Error ▁in ▁method ▁cancellaTag :" ▁+ ▁e . toString ▁()); ▁throw ▁new ▁RemoteException ▁( MessaggiErrore . ERRORE _ DBMS ); ▁) ▁/ ▁/ ▁U nexpected ▁exceptions ▁ca used ▁by ▁other ▁fa ctors ▁ catch ▁( Exception ▁ee ) ▁( ▁System . out . println ▁( ▁" Error ▁in ▁method ▁cancellaTag " ▁E e . toString ▁+ ▁()); ▁throw ▁new ▁RemoteException ▁( MessaggiErrore . ERRORE _ SCONOSCIUTO ); ▁) ▁) ▁/ ▁/ ▁Method ▁that ▁allow s ▁the ▁insertion ▁of ▁a ▁new ▁tag ▁as ▁a ▁parameter ▁p ublic ▁boolean ▁inserisciTag ▁( BeanTag ▁pTagNuovo ) ▁throws ▁RemoteException ▁( ▁/ ▁/ ▁Check ▁the ▁validit y ▁of ▁the ▁Bean ▁and ▁the ▁data ▁contain ed ▁within ▁if ▁( null ▁== ▁pTagNuovo ) ▁throw ▁new ▁RemoteException ▁( MessaggiErrore . ERRORE _ FORMAT O _ BEAN ); ▁if ▁( ( pTagNuovo ▁= ▁check Tag ▁( pTagNuovo )) ▁== ▁null ) ▁throw ▁new ▁RemoteException ▁( MessaggiErrore . ERRORE _ FORMAT O _ BEAN ); ▁TR Y ▁( ▁/ ▁/ ▁Execut e ▁the ▁operation ▁on ▁the ▁Database ▁tag . inserisciTag ▁( pTagNuovo ); ▁return ▁true ; ▁) ▁/ ▁/ ▁Exception ▁run ning ▁the ▁operation ▁on ▁Database ▁ catch ▁( SQLException ▁e ) ▁( ▁System . out . println ▁( ▁" Error ▁in ▁method ▁inserisciTag " ▁+ ▁E . toString ▁()); ▁throw ▁new ▁RemoteException ▁( MessaggiErrore . ERRORE _ DBMS ); ▁) ▁/ ▁/ ▁U nexpected ▁exceptions ▁ca used ▁by ▁other ▁fa ctors ▁ catch ▁( Exception ▁ee ) ▁( ▁System . out . println ▁( ▁" Error ▁in ▁method ▁inserisciTag " ▁E e . toString ▁+ ▁()); ▁throw ▁new ▁RemoteException ▁( MessaggiErrore . ERRORE _ SCONOSCIUTO ); ▁) ▁) ▁/ ▁/ ▁Method ▁that ▁enable s ▁the ▁modification ▁of ▁a ▁tag ▁that ▁is ▁passed ▁as ▁/ ▁/ ▁Parameter ▁p ublic ▁boolean ▁modificaTag ▁( BeanTag ▁pTagModificato ) ▁throws ▁RemoteException ▁( ▁/ ▁/ ▁Check ▁the ▁validit y ▁of ▁data ▁if ▁( ( pTagModificato ▁= ▁check Tag ▁( pTagModificato )) ▁== ▁null ) ▁throw ▁new ▁RemoteException ▁( MessaggiErrore . ERRORE _ FORMAT O _ BEAN ); ▁TR Y ▁( ▁/ ▁/ ▁Execut e ▁the ▁operation ▁on ▁the ▁Database ▁tag . modificaTag ▁( pTagModificato ); ▁return ▁true ; ▁) ▁/ ▁/ ▁Exception ▁run ning ▁the ▁operation ▁on ▁Database ▁ catch ▁( SQLException ▁e ) ▁( ▁System . out ▁ . ▁System . out . println ▁( ▁" Error ▁in ▁method ▁modificaTag :" ▁+ ▁e . toString ▁()); ▁throw ▁new ▁RemoteException ▁( MessaggiErrore . ERRORE _ DBMS ); ▁) ▁/ ▁/ ▁U nexpected ▁exceptions ▁ca used ▁by ▁other ▁fa ctors ▁ catch ▁( Exception ▁ee ) ▁( ▁System . out . println ▁( ▁" Error ▁in ▁method ▁modificaTag " ▁E e . toString ▁+ ▁()); ▁throw ▁new ▁RemoteException ▁( MessaggiErrore . ERRORE _ SCONOSCIUTO ); ▁) ▁) ▁/ ▁/ ▁Method ▁to ▁obtain ▁the ▁tags ▁whose ▁identifier ▁is ▁passed ▁/ ▁/ ▁As ▁parameter ▁p ublic ▁BeanTag ▁ottieniTag ▁( int ▁pTagID ) ▁throws ▁RemoteException ▁( ▁/ ▁/ ▁Check ▁the ▁validit y ▁of ▁data ▁if ▁( pTagID ▁<= ▁0) ▁throw ▁new ▁RemoteException ▁( MessaggiErrore . ERRORE _ DATI ); ▁/ ▁/ ▁Bean ▁to ▁return ▁BeanTag ▁toReturn ; ▁TR Y ▁( ▁/ ▁/ ▁Execut e ▁the ▁operation ▁on ▁the ▁Database ▁toReturn ▁= ▁tag . ottieniTag ▁( pTagID ); ▁) ▁/ ▁/ ▁Exception ▁run ning ▁the ▁operation ▁on ▁Database ▁ catch ▁( SQLException ▁e ) ▁( ▁System . out . println ▁( ▁" Error ▁in ▁method ▁ottieniTag :" ▁+ ▁e . toString ▁()); ▁throw ▁new ▁RemoteException ▁( MessaggiErrore . ERRORE _ DBMS ); ▁) ▁/ ▁/ ▁U nexpected ▁exceptions ▁ca used ▁by ▁other ▁fa ctors ▁ catch ▁( Exception ▁ee ) ▁( ▁System . out ▁ . ▁System . out . println ▁( ▁" Error ▁in ▁method ▁ottieniTag :" ▁+ ▁ee . toString ▁()); ▁throw ▁new ▁RemoteException ▁( MessaggiErrore . ERRORE _ SCONOSCIUTO ); ▁) ▁if ▁( null ▁== ▁toReturn ) ▁throw ▁new ▁RemoteException ▁( MessaggiErrore . ERRORE _ FORMAT O _ BEAN ); ▁toReturn ▁return ; ▁) ▁/ ▁/ ▁Method ▁that ▁control s ▁all ▁the ▁attribute s ▁of ▁a ▁BeanTag ▁Pr ivate ▁BeanTag ▁check Tag ▁( BeanTag ▁toControl ) ▁( ▁/ ▁/ ▁Check ▁the ▁ID ▁if ▁( toControl . getId ▁() ▁<= ▁0) ▁return ▁null ; ▁/ ▁/ ▁Check ▁the ▁description ▁if ▁( toControl . getDescrizione ▁() . ▁ equals ▁("")) ▁toControl . setDescrizione ▁ (" *** "); ▁/ ▁/ ▁Check ▁the ▁name ▁if ▁( toControl . getNome ▁() . ▁ equals ▁("")) ▁return ▁null ; ▁/ ▁/ ▁Check ▁that ▁the ▁name ▁do es ▁not ▁contain ▁a ▁space ▁if ▁( toControl . getNome ▁() . ▁Contain s ▁( ▁"")) ▁return ▁null ; ▁toControl ▁return ; ▁) ▁)