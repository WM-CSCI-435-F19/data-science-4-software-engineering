▁55 ▁" eventserver ▁Thread static ▁private ▁int ▁count ▁= ▁0; ▁private ▁int ▁taskNumber ; ▁prot ected ▁ Done ▁done ; ▁ServerSocket ▁theServer ; ▁private ▁Connection ▁conn ; ▁private ▁Statement ▁stmt ; ▁private ▁ResultSet ▁rs ; ▁private ▁EventParser ▁e p ; ▁private ▁int ▁id ; ▁ EventServer Thread ( ServerSocket ▁s s ) ▁{ ▁theServer ▁= ▁s s ; ▁count ++ ; ▁taskNumber ▁= ▁count ; ▁e p ▁= ▁new ▁EventParser (); ▁} ▁public ▁void ▁run () ▁{ ▁while ( ▁true ) ▁{ ▁try ▁{ ▁ Socket ▁client ▁= ▁theServer . ▁accept (); ▁BufferedReader ▁input ▁= ▁new ▁BufferedReader ( ▁new ▁ InputStream Reader ( ▁client . ▁get InputStream ())); ▁PrintWriter ▁output ▁= ▁new ▁P ▁public ▁String ▁getNext ID () ▁{ ▁try ▁{ ▁Class . ▁for Name ("" ▁ sun . ▁jdbc . ▁odbc . jdbc o dbcDriver ""); ▁this . ▁conn ▁= ▁ DriverManager . ▁ getConnection ("" ▁jdbc : ▁odbc : EBT "","" EBT "","" EBT ""); ▁this . ▁stmt ▁= ▁conn public ▁String ▁search Date () ▁{ ▁String ▁date String ▁= ▁new ▁String (); ▁Vector ▁date Vector ▁= ▁new ▁Vector (); ▁try ▁{ ▁Class . ▁for Name ("" ▁ sun . ▁jdbc . ▁odbc . jdbc o dbcDriver ""); ▁Connection ▁conn ▁= ▁ DriverManager . ▁get C on ne ct io ▁public ▁String ▁searchQuery ID ( String ▁date ) ▁{ ▁Vector ▁query Vector ▁= ▁new ▁Vector (); ▁String ▁searchQuery ▁= ▁new ▁String (); ▁try ▁{ ▁Class . ▁for Name ("" ▁ sun . ▁jdbc . ▁odbc . Jdbc O dbcDriver ""); ▁conn ▁= ▁ DriverManager . ▁get public ▁String ▁getConstraint From DataBase ( String ▁queryID ) ▁{ ▁String ▁Const String ▁= ▁new ▁String (); ▁try ▁{ ▁Class . ▁for Name ("" ▁ sun . ▁jdbc . ▁odbc . Jdbc O dbcDriver ""); ▁conn ▁= ▁ DriverManager . ▁ getConnection ("" ▁j ▁public ▁String ▁getDriver From DataBase ( String ▁queryID ) ▁{ ▁String ▁driver String ▁= ▁new ▁String (); ▁try ▁{ ▁Class . ▁for Name ("" ▁ sun . ▁jdbc . ▁odbc . Jdbc O dbcDriver ""); ▁conn ▁= ▁ DriverManager . ▁ getConnection ("" ▁jdbc ▁"