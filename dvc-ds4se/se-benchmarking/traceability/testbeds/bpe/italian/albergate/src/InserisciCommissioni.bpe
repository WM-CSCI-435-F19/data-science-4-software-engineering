▁p ackage ▁interfacce ; ▁import ▁java . awt .* ; ▁import ▁java . awt . event .* ; ▁import ▁common . utility .* ; ▁import ▁common . def .* ; ▁import ▁modul i .* ; ▁p ublic ▁class ▁Inserisci Commissioni ▁ext ends ▁Maschera Commissioni ▁{ ▁Maschera RicercaStanza ▁m ask _ ricerca ▁= ▁new ▁Maschera RicercaStanza ("", 1); ▁p ublic ▁Inserisci Commissioni ( Stanza ▁stanza , ▁String ▁data 1, ▁String ▁data 2) ▁{ ▁super ( data 1, ▁data 2, ▁" Inserimento ▁dei ▁dati ▁delle ▁commissioni "," Inserisci ", 1); ▁init ( stanza , ▁data 1, ▁data 2 ); ▁} ▁p ublic ▁void ▁init ( Stanza ▁stanza , ▁String ▁data 1, ▁String ▁data 2) ▁{ ▁num _ stanza . setText ( stanza . getNumStanz a ()); ▁inizio _ comm . setText ( data 1); ▁fine _ comm . setText ( data 2 ); ▁num _ stanza . setEditable ( false ); ▁inizio _ comm . setEditable ( false ); ▁fine _ comm . setEditable ( false ); ▁Annulla . a ddActionListener ( new ▁ActionListener () ▁{ ▁p ublic ▁void ▁actionPerformed ( ActionEvent ▁e ) ▁{ ▁dispose (); ▁m ask _ ricerca . setEnabled ( true ); ▁} ▁} ); ▁Azione . a ddActionListener ( new ▁ActionListener () ▁{ ▁p ublic ▁void ▁actionPerformed ( ActionEvent ▁e ) ▁{ ▁startA zione (); ▁} ▁} ); ▁} ▁void ▁startA zione () ▁{ ▁Frame ▁msg ; ▁if ▁( ▁! errori () ▁) ▁{ ▁ Commissionamento ▁comm ▁= ▁readDati Comm (); ▁int ▁j ; ▁if ▁( ▁( j ▁= ▁( Principale . db ) . newId Commissionamento ()) ▁== ▁DataBase . OK ▁) ▁{ ▁( Principale . config ) . updateId Commissionamento (); ▁if ▁( ( j ▁= ▁( Principale . db ) . write Commissionamento ( comm )) ▁== ▁DataBase . OK ) ▁{ ▁aggiorna Disp ( comm , ▁ Flag . COMMISSIONATA ); ▁dispose (); ▁m ask _ ricerca . re startAvvi o (); ▁m ask _ ricerca . setEnabled ( true ); ▁} ▁else ▁msg ▁= ▁new ▁MessageDialog ( this , ▁" P roblemi ▁con ▁il ▁database : ▁"+ DataBase . str Errore ( j ) ▁ ); ▁} ▁else ▁msg ▁= ▁new ▁MessageDialog ( this , ▁" P roblemi ▁con ▁il ▁database : ▁"+ DataBase . str Errore ( j ) ▁ ); ▁} ▁} ▁}