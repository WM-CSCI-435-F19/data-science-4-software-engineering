▁p ackage ▁interfacce ; ▁import ▁java . awt .* ; ▁import ▁java . awt . event .* ; ▁import ▁common . utility .* ; ▁import ▁common . def .* ; ▁import ▁modul i .* ; ▁p ublic ▁class ▁D escrittoreStanze ▁ext ends ▁Frame ▁{ ▁// Dichiar o ▁gli ▁oggett i ▁che ▁utilizz ero ' ▁per ▁costrui re ▁la ▁finestra ▁Label ▁etichetta , ▁label 1, ▁label 2, ▁label 3, ▁label 4; ▁TextField ▁testo 1, ▁testo 2, ▁testo 3, ▁testo 4; ▁Button ▁Annulla , ▁Azione , ▁Cerca ; ▁Panel ▁panel 1, ▁panel 2; ▁GridBagLayout ▁gridbag ▁= ▁new ▁GridBagLayout (); ▁Checkbox ▁mycheckboxes ; ▁SubStanze ▁stanze ▁= ▁new ▁SubStanze (); ▁int ▁caller ; ▁p ublic ▁D escrittoreStanze ( String ▁title , ▁String ▁caption , ▁int ▁c ) ▁{ ▁super ( title ); ▁caller ▁= ▁c ; ▁setupPanel s ( caption ); ▁inizializza (); ▁pack (); ▁} ▁void ▁setupPanel s ( String ▁caption ) ▁{ ▁this . setFont ( Configurazione Sistema . font _ base ); ▁// Cre o ▁le ▁etichette ▁etichetta = new ▁Label (" I nformazioni ▁sull e ▁stanze "); ▁etichetta . setFont ( Configurazione Sistema . font _ titolo ); ▁label 1 ▁= ▁new ▁Label (" Numero ▁di ▁stanza "); ▁label 2 ▁= ▁new ▁Label (" Numero ▁di ▁posti ▁letto "); ▁label 3 ▁= ▁new ▁Label (" Prezzo ▁base ▁della ▁stanza ▁"+( Principale . config ) . get Valuta ()+"." ); ▁label 4 ▁= ▁new ▁Label (" Descrizione ▁delle ▁caratteristiche ▁peculiar i ▁della ▁stanza "); ▁// Cre o ▁i ▁TextField ▁testo 1 ▁= ▁new ▁TextField ("", ▁4 ); ▁testo 2 ▁= ▁new ▁TextField ("", ▁4 ); ▁testo 3 ▁= ▁new ▁TextField ("", ▁10 ); ▁testo 4 ▁= ▁new ▁TextField ("", ▁50 ); ▁// Cre o ▁i ▁botton i ▁Annulla ▁= ▁new ▁Button (" ▁Fine ▁"); ▁Azione ▁= ▁new ▁Button ( caption ); ▁Cerca ▁= ▁new ▁Button (" ▁Cerca ▁"); ▁mycheckboxes ▁= ▁new ▁Checkbox (" ▁ Letto ▁aggiuntivo ", ▁null , ▁false ); ▁// Cre o ▁il ▁pannello ▁in ▁alto ▁contenente ▁i ▁dati ▁del ▁cliente ▁panel 1 ▁= ▁new ▁Panel (); ▁panel 1. setLayout ( gridbag ); ▁ Utils . constrain ( panel 1, ▁etichetta , ▁0, ▁0, ▁2, ▁1, ▁Grid BagConstraints . NONE , ▁Grid BagConstraints . NORTH WEST , ▁1.0, ▁ 0.0, ▁ 5, ▁ 5, ▁ 5, ▁ 5); ▁ Utils . constrain ( panel 1, ▁label 1, ▁0, ▁1, ▁1, ▁1, ▁Grid BagConstraints . NONE , ▁Grid BagConstraints . NORTH WEST , ▁ 0.0, ▁ 0.0, ▁ 5, ▁ 5, ▁ 5, ▁ 5); ▁ Utils . constrain ( panel 1, ▁testo 1, ▁1, ▁1, ▁1, ▁1, ▁Grid BagConstraints . NONE , ▁Grid BagConstraints . NORTH WEST , ▁1.0, ▁ 0.0, ▁ 5, ▁ 5, ▁ 5, ▁ 5); ▁ Utils . constrain ( panel 1, ▁label 2, ▁2, ▁1, ▁1, ▁1, ▁Grid BagConstraints . NONE , ▁Grid BagConstraints . NORTH WEST , ▁ 0.0, ▁ 0.0, ▁ 5, ▁ 5, ▁ 5, ▁2 5); ▁ Utils . constrain ( panel 1, ▁testo 2, ▁3, ▁1, ▁1, ▁1, ▁Grid BagConstraints . NONE , ▁Grid BagConstraints . NORTH WEST , ▁1.0, ▁ 0.0, ▁ 5, ▁ 5, ▁ 5, ▁ 5); ▁ Utils . constrain ( panel 1, ▁label 3, ▁0, ▁2, ▁1 ▁ , 1, ▁Grid BagConstraints . NONE , ▁Grid BagConstraints . NORTH WEST , ▁ 0.0, ▁ 0.0, ▁ 5, ▁ 5, ▁ 5, ▁ 5); ▁ Utils . constrain ( panel 1, ▁testo 3, ▁1, ▁2, ▁1, ▁1, ▁Grid BagConstraints . NONE , ▁Grid BagConstraints . NORTH WEST , ▁ 0.0, ▁ 0.0, ▁ 5, ▁ 5, ▁ 5, ▁ 5); ▁ Utils . constrain ( panel 1, ▁mycheckboxes , ▁2, ▁2, ▁1, ▁1, ▁Grid BagConstraints . NONE , ▁Grid BagConstraints . NORTH WEST , ▁ 0.0, ▁ 0.0, ▁ 5, ▁ 5, ▁ 5, ▁ 5); ▁ Utils . constrain ( panel 1, ▁label 4, ▁0, ▁3, ▁2, ▁1, ▁Grid BagConstraints . NONE , ▁Grid BagConstraints . NORTH WEST , ▁ 0.0, ▁ 0.0, ▁ 5, ▁ 5, ▁ 5, ▁ 5); ▁ Utils . constrain ( panel 1, ▁testo 4, ▁2, ▁3, ▁3, ▁1, ▁Grid BagConstraints . NONE , ▁Grid BagConstraints . NORTH WEST , ▁1.0, ▁ 0.0, ▁ 5, ▁ 5, ▁ 5, ▁ 5); ▁// Cre o ▁il ▁pannello ▁in ▁basso ▁con ▁due ▁pulsanti ▁panel 2 ▁= ▁new ▁Panel (); ▁panel 2. setLayout ( gridbag ); ▁ Utils . constrain ( panel 2, ▁Annulla , ▁0, ▁0, ▁1, ▁1, ▁Grid BagConstraints . NONE , ▁Grid BagConstraints . CENTER , ▁0, ▁ 0.0, ▁ 5, ▁ 5, ▁ 5, ▁ 5); ▁ Utils . constrain ( panel 2, ▁Azione , ▁1, ▁0, ▁1, ▁1, ▁Grid BagConstraints . NONE , ▁Grid BagConstraints . CENTER , ▁0, ▁ 0.0, ▁ 5, ▁ 5, ▁ 5, ▁ 5); ▁if ▁( ( caller ▁== ▁2) ▁|| ▁( caller ==3) ) ▁ Utils . constrain ( panel 2, ▁Cerca , ▁2, ▁0, ▁1, ▁1, ▁Grid BagConstraints . NONE , ▁Grid BagConstraints . CENTER , ▁0, ▁ 0.0, ▁ 5, ▁ 5, ▁ 5, ▁ 5); ▁// Attac co ▁i ▁pannelli ▁al ▁frame ▁this . setLayout ( gridbag ); ▁ Utils . constrain ( this , ▁panel 1, ▁0, ▁0, ▁ 4, ▁ 4, ▁Grid BagConstraints . HORIZONTAL , ▁Grid BagConstraints . NORTH , ▁1.0, ▁1.0, ▁ 5, ▁ 5, ▁ 5, ▁ 5); ▁ Utils . constrain ( this , panel 2, ▁0, ▁ 4, ▁ 4, ▁1, ▁Grid BagConstraints . HORIZONTAL , ▁Grid BagConstraints . CENTER , ▁1.0, ▁ 0.0, ▁ 5, ▁ 5, ▁ 5, ▁ 5); ▁} ▁p ublic ▁void ▁inizializza () ▁{ ▁Annulla . a ddActionListener ( new ▁ActionListener () ▁{ ▁p ublic ▁void ▁actionPerformed ( ActionEvent ▁e ) ▁{ ▁dispose (); ▁stanze . setEnabled ( true ); ▁} ▁} ); ▁} ▁p rot ected ▁Stanza ▁readDati Stanza () ▁{ ▁Stanza ▁room ▁= ▁new ▁Stanza (); ▁room . setNumStanz a ( testo 1. getText ()); ▁room . set Posti Letto ( Integer . parse Int ( testo 2. getText ())); ▁Float ▁ f ▁= ▁Float . valueOf ( testo 3. getText ()); ▁room . setPx Base ( f . float Value ()); ▁room . setDescrizione ( testo 4. getText ()); ▁if ▁( mycheckboxes . getStat e ()) ▁room . set Disp Letto Agg ( Const . SI ); ▁return ▁room ; ▁} ▁p rot ected ▁void ▁writeDati Stanza ( Stanza ▁room ) ▁{ ▁testo 1. setText ( room . getNumStanz a ()); ▁testo 2. setText (""+ room . get Posti Letto ()); ▁testo 3. setText (""+ room . getPx Base ()); ▁testo 4. setText ( room . getDescrizione ()); ▁if ▁( ▁room . getDisp Letto Agg () ▁== ▁Const . SI ) ▁mycheckboxes . set State ( true ); ▁else ▁mycheckboxes . set State ( false ); ▁} ▁p rot ected ▁void ▁c lean Fields () ▁{ ▁testo 1. setText (" "); ▁testo 2. setText (" "); ▁testo 3. setText (" "); ▁testo 4. setText (" "); ▁mycheckboxes . set State ( false ); ▁} ▁p rot ected ▁boolean ▁errori () ▁{ ▁Frame ▁msg ; ▁if ▁( ▁!(( testo 1. getText ()). length () ▁<= ▁4) ▁) ▁{ ▁msg ▁= ▁new ▁MessageDialog ( this , ▁" ▁Il ▁numero ▁della ▁stanza ▁deve ▁essere ▁compos to ▁da ▁al ▁piu ' ▁4 ▁caratteri ! ▁"); ▁return ▁true ; ▁} ▁if ▁( ▁( ( testo 1. getText ()). equals ("")) ▁) ▁{ ▁msg ▁= ▁new ▁MessageDialog ( this , ▁" ▁Man ca ▁il ▁numero ▁della ▁stanza ! ▁"); ▁return ▁true ; ▁} ▁if ▁( ▁( ( testo 2. getText ()). equals ("")) ▁) ▁{ ▁msg ▁= ▁new ▁MessageDialog ( this , ▁" ▁Man ca ▁il ▁numero ▁di ▁posti ▁letto ! ▁"); ▁return ▁true ; ▁} ▁if ▁( ▁! Utils . is Int Pos ( testo 2. getText ()) ▁) ▁{ ▁msg ▁= ▁new ▁MessageDialog ( this , ▁" ▁Il ▁numero ▁di ▁posti ▁deve ▁essere ▁un ▁numero ▁positivo ! ▁"); ▁return ▁true ; ▁} ▁if ▁( ▁( ( testo 3. getText ()). equals ("")) ▁) ▁{ ▁msg ▁= ▁new ▁MessageDialog ( this , ▁" ▁Man ca ▁il ▁prezzo ▁della ▁stanza ! ▁"); ▁return ▁true ; ▁} ▁if ▁( ▁! Utils . is Float Pos ( testo 3. getText ()) ▁) ▁{ ▁msg ▁= ▁new ▁MessageDialog ( this , ▁" ▁Il ▁prezzo ▁della ▁stanza ▁deve ▁essere ▁un ▁numero ▁positivo ! ▁"); ▁return ▁true ; ▁} ▁if ▁( ▁!(( testo 4. getText ()). length () ▁<= ▁52) ▁) ▁{ ▁msg ▁= ▁new ▁MessageDialog ( this , ▁" ▁La ▁descrizione ▁deve ▁essere ▁compos ta ▁da ▁al ▁piu ' ▁5 2 ▁caratteri ! ▁"); ▁return ▁true ; ▁} ▁return ▁false ; ▁} ▁}