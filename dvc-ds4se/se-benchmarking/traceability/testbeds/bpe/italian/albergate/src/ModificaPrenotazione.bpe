▁p ackage ▁interfacce ; ▁import ▁java . awt .* ; ▁import ▁java . awt . event .* ; ▁import ▁common . utility .* ; ▁import ▁common . def .* ; ▁import ▁java . util . Date ; ▁import ▁modul i .* ; ▁p ublic ▁class ▁Modifica Prenotazione ▁ext ends ▁Maschera Prenotazione ▁{ ▁Prenotazione ▁p ; ▁Ricerca Prenotazione ▁parent ; ▁p ublic ▁Modifica Prenotazione ( Prenotazione ▁pren , ▁Stanza ▁room , ▁Ricerca Prenotazione ▁papa ) ▁{ ▁super ( room ,"",""," Modifica ▁dei ▁dati ▁della ▁prenotazione "," Modifica ", 2, ▁pren . getP ensionamento ()); ▁p = ▁pren ; ▁parent ▁= ▁papa ; ▁init (); ▁} ▁p ublic ▁void ▁init () ▁{ ▁Frame ▁msg ; ▁writeDati Pren ( p ); ▁testo [0]. setEditable ( false ); ▁testo [4]. setEditable ( false ); ▁testo [5]. setEditable ( false ); ▁testo [9]. setText ( DateUtils . parse Date ( DateUtils . give String Of Date ( p . getData Pren ())) ); ▁if ▁(! p . getNome Agenzia () . equals ("")) ▁{ ▁testo [6]. setEditable ( false ); ▁myCheckbox 1. set State ( true ); ▁} ▁Azione . a ddActionListener ( new ▁ActionListener () ▁{ ▁p ublic ▁void ▁actionPerformed ( ActionEvent ▁e ) ▁{ ▁if ▁( ▁! errori () ▁) ▁{ ▁Prenotazione ▁pren ▁= ▁readDati Pren (); ▁pren . setId Prenotazione ( p . getId Prenotazione ()); ▁pren . setData Pren ( p . getData Pren ()); ▁int ▁j ▁ ; ▁j ▁= ▁( Principale . db ) . change Prenotazione ( pren . getId Prenotazione (), ▁pren . getNumStanz a (), ▁pren . getNum Pers (), pren . getNome (), pren . getCognome (), ▁pren . getNum Tel (), ▁pren . getInizio Sogg (), ▁pren . getFine Sogg (), ▁pren . getData Pren (), ▁pren . get Caparra (), ▁pren . getRich Letto Agg (), ▁pren . getP ensionamento (), ▁pren . getT ramite Agenzia (), ▁pren . getNome Agenzia (), ▁pren . getRich P articolari ()); ▁dispose (); ▁parent . crea Lista ( 1); ▁parent . setEnabled ( true ); ▁} ▁} ▁} ); ▁Assegna . a ddActionListener ( new ▁ActionListener () ▁{ ▁p ublic ▁void ▁actionPerformed ( ActionEvent ▁e ) ▁{ ▁startA ssegnazione (); ▁} ▁} ); ▁} ▁void ▁startA ssegnazione () ▁{ ▁Frame ▁msg ; ▁Lista Disponibilita ▁elenco _ disp ▁= ▁( Principale . db ) . elenco Disponibilita (); ▁if ▁( elenco _ disp ▁== ▁null ) ▁{ ▁msg ▁= ▁new ▁MessageDialog ( this , ▁" ▁P roblemi ▁con ▁il ▁database ▁nella ▁lettura ▁delle ▁disponibilita '! ▁"); ▁return ; ▁} ▁ Utils . aggiorna Disp ( elenco _ disp , p . getNumStanz a (), p . getInizio Sogg (), p . getFine Sogg (), Flag . ASSEGNATA , Flag . BLOCCATA , true ); ▁msg ▁= ▁new ▁Avviso Dialog ( this , ▁" ▁Assegna ta ▁la ▁stanza ▁"+ p . getNumStanz a ()+" ▁alla ▁prenotazione ▁"); ▁} ▁}